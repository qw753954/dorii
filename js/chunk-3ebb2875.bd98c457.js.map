{"version":3,"sources":["webpack:///./src/components/frontend/Banner.vue","webpack:///./src/components/frontend/Banner.vue?9cf9","webpack:///./src/assets/javascript/fetchAPI.js","webpack:///./src/views/frontend/OrderCreate.vue","webpack:///./src/views/frontend/OrderCreate.vue?4627"],"names":["class","aria-label","_createElementBlock","style","_normalizeStyle","$props","imageUrl","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_router_link","to","_renderSlot","_ctx","$slots","_hoisted_5","title","_hoisted_6","_toDisplayString","engTitle","name","props","String","__exports__","render","$get","url","Promise","resolve","reject","axios","get","then","res","catch","err","message","$post","data","post","$put","put","$delete","delete","aria-current","id","type","data-bs-toggle","data-bs-target","aria-expanded","aria-controls","aria-labelledby","data-bs-parent","scope","width","_hoisted_43","_component_CustomLoading","active","$data","isLoading","_component_Banner","_normalizeClass","isPaid","success","order","is_paid","_hoisted_7","_Fragment","key","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","Date","paid_date","toLocaleString","_hoisted_25","create_at","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_renderList","products","option","specItem","spec","src","product","image","alt","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","qty","product_id","_hoisted_37","$toCurrency","price","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","value","ref","readonly","onClick","_cache","$event","$options","copyOrderId","_hoisted_45","user","payment_method","_hoisted_46","_hoisted_47","tel","_hoisted_48","email","_hoisted_49","address","_hoisted_50","_hoisted_51","total","hasCoupon","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","couponName","disabled","loadingState","pay","_hoisted_61","test","components","Banner","methods","this","Math","floor","undefined","Object","keys","coupon","$swal","fire","icon","$refs","idInput","select","document","execCommand","watch","$route","path","includes","getOrder","params"],"mappings":"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","file":"js/chunk-3ebb2875.bd98c457.js","sourcesContent":["<template>\n  <div\n    class=\"banner bg-cover d-flex position-relative\"\n    :style=\"`background-image: url(${imageUrl})`\"\n  >\n    <div class=\"container d-flex flex-column\">\n      <!-- 麵包屑 -->\n      <nav aria-label=\"breadcrumb\" class=\"mt-auto\">\n        <ol class=\"breadcrumb\">\n          <li class=\"breadcrumb-item\">\n            <router-link to=\"/\" class=\"link-white d-inline-block\">首頁</router-link>\n          </li>\n          <slot></slot>\n        </ol>\n      </nav>\n      <!-- 標題 -->\n      <h2 class=\"fs-1 text-white text-spacing-m d-flex align-items-center pb-2\">\n        {{ title }}\n        <span class=\"fs-3 ms-2 ms-md-3\">{{ engTitle }}</span>\n      </h2>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Banner Component',\n  props: {\n    title: String,\n    engTitle: String,\n    imageUrl: String,\n  },\n};\n</script>\n","import { render } from \"./Banner.vue?vue&type=template&id=3dd6ac64\"\nimport script from \"./Banner.vue?vue&type=script&lang=js\"\nexport * from \"./Banner.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/ksyobo_/vue-dorii/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import axios from 'axios';\n\nexport function $get(url) {\n  return new Promise((resolve, reject) => {\n    axios.get(url)\n      .then((res) => {\n        resolve(res);\n      }).catch((err) => {\n        reject(err.message);\n      });\n  });\n}\n\nexport function $post(url, data = {}) {\n  return new Promise((resolve, reject) => {\n    axios.post(url, data)\n      .then((res) => {\n        resolve(res);\n      }).catch((err) => {\n        reject(err.message);\n      });\n  });\n}\n\nexport function $put(url, data = {}) {\n  return new Promise((resolve, reject) => {\n    axios.put(url, data)\n      .then((res) => {\n        resolve(res);\n      }).catch((err) => {\n        reject(err.message);\n      });\n  });\n}\n\nexport function $delete(url) {\n  return new Promise((resolve, reject) => {\n    axios.delete(url)\n      .then((res) => {\n        resolve(res);\n      }).catch((err) => {\n        reject(err.message);\n      });\n  });\n}\n","<template>\n  <CustomLoading :active=\"isLoading\" />\n\n  <!-- 上方 BANNER -->\n  <Banner\n    title=\"訂單資訊\"\n    engTitle=\"Order Info\"\n    imageUrl=\"https://storage.googleapis.com/vue-course-api.appspot.com/peihan/1628002514350.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=ehSobRbgds04rlX9mTawGk1diYVcyoJIlOliLOBPND%2FTZwWzvBMTebq1S4u6fEWoDu6bzU3F08xGDCs5cM99%2FjdFkHX3oEwBALPn%2B6kQDtBwhEW0ALQTa03DVWa%2BGDTcMTTHY1lOXVEBMJC20ldYITKZ%2B3qgsK48hqHkuM%2BL8CkTUv77TPM6k1C%2B89LOShTxGl3hgvtIddE8HEibxHJiqMX%2BeFgPbesRigISFGyQv5g8KjUBT0JkMgYWVx69rh1n8wQogT0tDqdwQE9M0mifOb5lyCSJzI%2F7s1f%2Fme6u45QHbXS2%2BQ2DB5W9e%2F5DqiSWDmWjANPt45ZwD1DXctKvSQ%3D%3D\"\n  >\n    <li class=\"breadcrumb-item active\" aria-current=\"page\">\n      訂單資訊\n    </li>\n  </Banner>\n\n  <div class=\"checkout bg-light\">\n    <div class=\"container py-7 py-md-9\">\n      <ul class=\"steps list-unstyled d-flex justify-content-between position-relative mx-auto mb-8\">\n        <li class=\"steps-item success w-33 d-flex flex-column align-items-center py-2 px-4\">\n          <p class=\"small rounded-circle text-center mb-2\">\n            <i class=\"far fa-check\"></i>\n          </p>\n          資料填寫\n        </li>\n        <li\n          class=\"steps-item w-33 d-flex flex-column align-items-center py-2 px-4\"\n          :class=\"{ active: !isPaid, success: isPaid || order.is_paid }\"\n        >\n          <p class=\"small rounded-circle text-center mb-2\">\n            <i class=\"far fa-check\" v-if=\"isPaid || order.is_paid\"></i>\n            <template v-else>2</template>\n          </p>\n          訂單建立\n        </li>\n        <li\n          class=\"steps-item w-33 d-flex flex-column align-items-center py-2 px-4\"\n          :class=\"{ active: isPaid, success: order.is_paid }\"\n        >\n          <p class=\"small rounded-circle text-center mb-2\">\n            <i class=\"far fa-check\" v-if=\"order.is_paid\"></i>\n            <template v-else>3</template>\n          </p>\n          付款完成\n        </li>\n      </ul>\n\n      <div class=\"row\">\n        <!-- 付款完成（僅出現在當下結帳完成之後） -->\n        <div class=\"col-md-9 col-xl-7 mx-auto\" v-if=\"isPaid\">\n          <div class=\"card-body bg-white text-center py-6\">\n            <i class=\"fad fa-check-circle text-success fa-3x mb-3\"></i>\n            <h3 class=\"h3 mb-5\">付款成功</h3>\n            <h4 class=\"h5\">感謝您的訂購～</h4>\n            <p class=\"mb-7\">\n              商品預計於五個工作天內寄送（不含週休及國定例假日）<br>\n              再請留意簡訊通知及配送人員的電話\n            </p>\n            <router-link to=\"/products\" class=\"btn btn-outline-primary\">繼續購物</router-link>\n          </div>\n        </div>\n\n        <!-- 訂單資訊 -->\n        <div class=\"col-md-9 col-xl-7 mx-auto\" v-else>\n          <div class=\"card-header\">\n            <h2 class=\"h4 text-center py-3 mb-0\">訂單資訊</h2>\n          </div>\n          <div class=\"card-body bg-white p-5\">\n            <h3\n              class=\"h6 alert alert-highlight text-center rounded-4 mb-4\"\n              v-if=\"order.is_paid\"\n            >\n              <i class=\"display-4 fas fa-badge-check d-block fw-bolder mb-2\"></i>\n              <p class=\"h5\" v-if=\"isPaid\">付款完成</p>\n              <p class=\"h5\" v-else>已付款</p>\n              <span class=\"small\" v-if=\"!isPaid\">\n                於 {{ new Date(order.paid_date * 1000).toLocaleString() }} 完成付款\n              </span>\n            </h3>\n            <p class=\"small text-end text-gray\">\n              訂單成立時間：{{ new Date(order.create_at * 1000).toLocaleString() }}\n            </p>\n\n            <div class=\"accordion mb-4\" id=\"accordionExample\">\n              <div class=\"accordion-item\">\n                <h2 class=\"accordion-header\" id=\"headingTwo\">\n                  <button type=\"button\" class=\"accordion-button fw-bold collapsed\"\n                  data-bs-toggle=\"collapse\" data-bs-target=\"#collapseTwo\"\n                  aria-expanded=\"false\" aria-controls=\"collapseTwo\" style=\"font-size: 15px;\">\n                    訂購商品\n                  </button>\n                </h2>\n                <div\n                  id=\"collapseTwo\" class=\"accordion-collapse collapse\"\n                  aria-labelledby=\"headingTwo\" data-bs-parent=\"#accordionExample\"\n                >\n                  <ul class=\"accordion-body list-unstyled\">\n                    <template v-for=\"order in order.products\" :key=\"order.id\">\n                      <li\n                        class=\"d-flex position-relative mb-3\"\n                        v-for=\"specItem in order.option\" :key=\"specItem.spec\"\n                      >\n                        <img\n                          :src=\"order.product.image\" :alt=\"order.name\"\n                          class=\"flex-shrink-0 product-img img-cover me-3\"\n                        >\n                        <div class=\"d-flex flex-column py-1\">\n                          <h5 class=\"h6 mb-auto\">\n                            {{ order.product.title }}\n                            <div class=\"d-block small mt-1 mb-0\" v-if=\"specItem\">\n                              <p class=\"small text-primary opacity-75\">{{ specItem.spec }}</p>\n                            </div>\n                          </h5>\n                          <p class=\"small mb-0\">\n                            x {{ specItem.qty }}\n                          </p>\n                          <router-link\n                            :to=\"`/product/${order.product_id}`\"\n                            class=\"stretched-link\"\n                          >\n                          </router-link>\n                        </div>\n                        <p class=\"ms-auto align-self-center text-end mb-0\">\n                          NT$ {{ $toCurrency(specItem.qty * order.product.price) }}\n                        </p>\n                      </li>\n                    </template>\n                  </ul>\n                </div>\n              </div>\n            </div>\n\n            <table class=\"table table-hover\">\n              <tbody>\n                <tr>\n                  <td scope=\"row\" class=\"fw-bold\" width=\"30%\">訂單編號</td>\n                  <td class=\"user-select-all text-break\">\n                    <div class=\"d-flex\">\n                      <input\n                        type=\"text\" class=\"w-100 bg-transparent\"\n                        :value=\"order.id\"\n                        ref=\"idInput\"\n                        readonly\n                      >\n                      <button class=\"link-gray\" type=\"button\" @click=\"copyOrderId(order.id)\">\n                        <i class=\"far fa-copy\"></i>\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n                <tr>\n                  <td scope=\"row\" class=\"fw-bold\" width=\"30%\">付款方式</td>\n                  <td>{{ order.user.payment_method }}</td>\n                </tr>\n                <tr>\n                  <td scope=\"row\" class=\"fw-bold\" width=\"30%\">姓名</td>\n                  <td>{{ order.user.name }}</td>\n                </tr>\n                <tr>\n                  <td scope=\"row\" class=\"fw-bold\" width=\"30%\">手機</td>\n                  <td>{{ order.user.tel }}</td>\n                </tr>\n                <tr>\n                  <td scope=\"row\" class=\"fw-bold\" width=\"30%\">E-mail</td>\n                  <td>{{ order.user.email }}</td>\n                </tr>\n                <tr>\n                  <td scope=\"row\" class=\"fw-bold\" width=\"30%\">收件地址</td>\n                  <td>{{ order.user.address }}</td>\n                </tr>\n                <tr>\n                  <td scope=\"row\" class=\"fw-bold\" width=\"30%\">備註</td>\n                  <td>{{ order.message }}</td>\n                </tr>\n                <tr>\n                  <td scope=\"row\" class=\"fw-bold align-middle\">訂單金額</td>\n                  <td>\n                    <button\n                      type=\"button\"\n                      class=\"fs-6 fw-bolder text-highlight d-flex justify-content-between\n                      align-items-center w-100 ps-0\"\n                      data-bs-toggle=\"collapse\" data-bs-target=\"#collapseCoupon\"\n                      aria-expanded=\"false\" aria-controls=\"collapseExample\"\n                      v-if=\"total >= 1000 || hasCoupon\"\n                    >\n                      NT$ {{ total &lt; 1000 ? $toCurrency(total + 120) : $toCurrency(total) }}\n                      <i class=\"far fa-arrow-alt-circle-down link-gray\"></i>\n                    </button>\n                    <template v-else>\n                      NT$ {{ total &lt; 1000 ? $toCurrency(total + 120) : $toCurrency(total) }}\n                    </template>\n                    <div\n                      class=\"collapse\" id=\"collapseCoupon\"\n                      v-if=\"total >= 1000 || hasCoupon\"\n                    >\n                      <ul class=\"collapse small list-unstyled text-highlight d-flex mt-1\">\n                        <li class=\"small me-2\" v-if=\"total >= 1000\">\n                          <i class=\"fad fa-ticket\"></i> 滿額免運\n                        </li>\n                        <li class=\"small\" v-if=\"hasCoupon\">\n                          <i class=\"fad fa-ticket\"></i> {{ couponName }}\n                        </li>\n                      </ul>\n                    </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            <button\n              type=\"button\" class=\"btn btn-primary w-100 py-2 py-sm-3 mt-2 mt-sm-4\"\n              :disabled=\"loadingState === 'payING' || isPaid\"\n              v-if=\"!order.is_paid\"\n              @click=\"pay(order.id)\"\n            >\n              <template v-if=\"loadingState === 'payING'\">\n                <i class=\"fas fa-spinner fa-pulse me-1\"></i> 付款中\n              </template>\n              <template v-else>\n                確認付款\n              </template>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Banner from '@/components/frontend/Banner.vue';\n\nimport { $get, $post } from '@/assets/javascript/fetchAPI';\n\nexport default {\n  name: 'Checkout: Order Info & Payment',\n  data() {\n    return {\n      test: false,\n      order: {\n        products: [],\n        user: {},\n      },\n      total: 0,\n      hasCoupon: false,\n      couponName: '',\n      isPaid: false,\n      loadingState: '',\n      isLoading: false,\n    };\n  },\n  components: {\n    Banner,\n  },\n  methods: {\n    async getOrder(id) {\n      this.isLoading = true;\n\n      try {\n        const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/order/${id}`;\n        const res = await $get(url);\n        const { success, order, message } = res.data;\n        if (success) {\n          this.order = order;\n          this.total = Math.floor(order.total);\n\n          // 判斷有沒有套用優惠券\n          if (order.products[Object.keys(order.products)[0]].coupon !== undefined) {\n            this.hasCoupon = true;\n            this.couponName = order.products[Object.keys(order.products)[0]].coupon.title;\n          }\n        } else {\n          this.$swal.fire({ icon: 'error', title: message });\n        }\n        this.isLoading = false;\n      } catch (err) {\n        this.$swal.fire({ icon: 'error', title: err });\n      }\n    },\n    async pay(id) {\n      this.loadingState = 'payING';\n\n      try {\n        const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/pay/${id}`;\n        const res = await $post(url);\n        const { success, message } = res.data;\n        if (success) {\n          this.$swal.fire({ icon: 'success', title: '付款完成囉～' });\n          this.isPaid = true;\n        } else {\n          this.$swal.fire({ icon: 'error', title: message });\n        }\n        this.loadingState = '';\n      } catch (err) {\n        this.$swal.fire({ icon: 'error', title: err });\n      }\n    },\n    copyOrderId(id) {\n      this.$refs.idInput.select();\n      document.execCommand('copy');\n\n      this.$swal.fire({ icon: 'success', title: `${id}\\n已複製到剪貼簿` });\n    },\n  },\n  watch: {\n    // 參考：https://stackoverflow.com/questions/56131100/vuejs-router-link-same-route-but-different-parameter\n    '$route.params.id': {\n      async handler() {\n        if (this.$route.path.includes('/checkout')) {\n          this.isPaid = false;\n          await this.getOrder(this.$route.params.id);\n        }\n      },\n    },\n  },\n  async created() {\n    await this.getOrder(this.$route.params.id);\n  },\n};\n</script>\n","import { render } from \"./OrderCreate.vue?vue&type=template&id=1849bb90\"\nimport script from \"./OrderCreate.vue?vue&type=script&lang=js\"\nexport * from \"./OrderCreate.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/ksyobo_/vue-dorii/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}