{"version":3,"sources":["webpack:///./src/views/Login.vue?c6ac","webpack:///./src/assets/javascript/fetchAPI.js","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?c242"],"names":["$get","url","Promise","resolve","reject","axios","get","then","res","catch","err","message","$post","data","post","$put","put","$delete","delete","class","_createElementVNode","style","for","_createElementBlock","_hoisted_1","_createVNode","_component_router_link","to","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","onSubmit","_cache","_withModifiers","args","$options","login","_hoisted_10","type","id","placeholder","autocomplete","$data","user","username","$event","_hoisted_11","_hoisted_12","canSeePW","password","onClick","_hoisted_15","_hoisted_14","_hoisted_16","disabled","loadingState","_hoisted_18","_Fragment","key","name","methods","this","success","token","expired","document","cookie","Date","split","join","sessionStorage","setItem","$router","push","$swal","fire","icon","title","__exports__","render"],"mappings":"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","file":"js/chunk-3ed1a9bd.2b696452.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Login.vue?vue&type=style&index=0&id=13ca6a96&lang=scss\"","import axios from 'axios';\n\nexport function $get(url) {\n  return new Promise((resolve, reject) => {\n    axios.get(url)\n      .then((res) => {\n        resolve(res);\n      }).catch((err) => {\n        reject(err.message);\n      });\n  });\n}\n\nexport function $post(url, data = {}) {\n  return new Promise((resolve, reject) => {\n    axios.post(url, data)\n      .then((res) => {\n        resolve(res);\n      }).catch((err) => {\n        reject(err.message);\n      });\n  });\n}\n\nexport function $put(url, data = {}) {\n  return new Promise((resolve, reject) => {\n    axios.put(url, data)\n      .then((res) => {\n        resolve(res);\n      }).catch((err) => {\n        reject(err.message);\n      });\n  });\n}\n\nexport function $delete(url) {\n  return new Promise((resolve, reject) => {\n    axios.delete(url)\n      .then((res) => {\n        resolve(res);\n      }).catch((err) => {\n        reject(err.message);\n      });\n  });\n}\n","<template>\n  <div class=\"login position-relative\">\n    <router-link\n      to=\"/\"\n      class=\"btn link-white position-fixed top-0 start-0 opacity-75 p-4\"\n      style=\"z-index: 1\"\n    >\n      <i class=\"fas fa-home\"></i>\n      <span class=\"ms-1\">返回前台</span>\n    </router-link>\n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <div\n          class=\"col-md-6 bg-cover vh-100 position-absolute\"\n          style=\"background: url('https://storage.googleapis.com/vue-course-api.appspot.com/peihan/1627088212151.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=cYCfQ3GUTd%2FUOb6nrFu0lC6NcwAyaSfKpKpJ3VF7HTg79AuuMWdSZr1IMn9IbiqoFeTnACkyXpPh2G3dD8vRmeBev%2FdbLfAQk%2BpdecB%2F%2BMyFRDQrhIk1x36fjeO9%2BCZMp6gU79RKVbM0lXAELsWsnESHlu5luof5CpAppd3VghWVgPqIZbcTF5pKMAaAP6B9IcC8dn0KG56SRvCp%2F67IYcqihy0uJqGslVieXwTBuy3EM%2BPPrhhYEPQAUxK4lCmCabnsXa%2FoehZqH4ldDHs7HnVuh6s1rBG2GS71ZfuM81CuFKYUr9U3eI2TmCPkvv9gmMV%2FFIcgTQVo9c0hDQixsw%3D%3D') no-repeat center 80%/ cover\"\n        >\n        </div>\n        <div class=\"col-10 col-md-6 align-items-center d-flex vh-100 py-5 me-auto me-md-0 ms-auto\">\n          <div class=\"mx-auto bg-whiteLightBlur w-100 p-5\" style=\"max-width: 450px\">\n            <h1 class=\"title display-4 text-center text-primary mb-5\">LOG IN</h1>\n            <form @submit.prevent=\"login\">\n              <div class=\"form-floating mb-3\">\n                <input\n                  type=\"email\"\n                  class=\"form-control\"\n                  id=\"floatingInput\"\n                  placeholder=\"name@example.com\"\n                  autocomplete=\"username\"\n                  v-model.trim=\"user.username\"\n                >\n                <label for=\"floatingInput\">Email address</label>\n              </div>\n              <div class=\"form-floating position-relative mb-3\">\n                <input\n                  class=\"form-control\"\n                  id=\"floatingPassword\"\n                  placeholder=\"Password\"\n                  autocomplete=\"current-password\"\n                  :type=\"canSeePW ? 'text' : 'password'\"\n                  v-model.trim=\"user.password\"\n                >\n                <button\n                  type=\"button\"\n                  class=\"btn watch-pw position-absolute\"\n                  @click=\"canSeePW = !canSeePW\"\n                >\n                  <i class=\"fas fa-eye-slash\" v-if=\"!canSeePW\"></i>\n                  <i class=\"fas fa-eye\" v-else></i>\n                </button>\n                <label for=\"floatingPassword\">Password</label>\n              </div>\n              <button\n                type=\"submit\"\n                class=\"btn btn-primary w-100 py-3 mx-auto\"\n                :disabled=\"loadingState === 'logING'\"\n              >\n                <i class=\"fas fa-spinner fa-pulse me-2\" v-if=\"loadingState === 'logING'\"></i>\n                <template v-if=\"loadingState === 'logING'\">登入中</template>\n                <template v-else>登入</template>\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { $post } from '@/assets/javascript/fetchAPI';\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      user: {},\n      canSeePW: false,\n      loadingState: '',\n    };\n  },\n  methods: {\n    async login() {\n      if (!this.user.username || !this.user.password) {\n        this.$swal.fire({ icon: 'warning', title: '有欄位沒填寫到' });\n        return;\n      }\n      this.loadingState = 'logING';\n      try {\n        const url = `${process.env.VUE_APP_URL}/admin/signin`;\n        const res = await $post(url, this.user);\n        const {\n          success,\n          message,\n          token,\n          expired,\n        } = res.data;\n        if (success) {\n          document.cookie = `token=${token}; expires=${new Date(expired)}; path=/`;\n          const name = this.user.username.split('@', 1).join();\n          sessionStorage.setItem('userId', name);\n          this.$router.push('/admin');\n        } else {\n          this.user.password = '';\n          this.$swal.fire({ icon: 'error', title: message });\n        }\n        this.loadingState = '';\n      } catch (err) {\n        this.$swal.fire({ icon: 'error', title: err });\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@/assets/stylesheets/all-front\";\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=13ca6a96\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=13ca6a96&lang=scss\"\n\nimport exportComponent from \"/Users/ksyobo_/vue-dorii/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}