{"version":3,"sources":["webpack:///./src/assets/javascript/fetchAPI.js","webpack:///./src/views/backend/Dashboard.vue?5f73","webpack:///./src/assets/images/backend/avatar-female.svg","webpack:///./src/views/backend/Dashboard.vue","webpack:///./src/views/backend/Dashboard.vue?8823"],"names":["$get","url","Promise","resolve","reject","axios","get","then","res","catch","err","message","$post","data","post","$put","put","$delete","delete","module","exports","class","_createElementVNode","href","_hoisted_17","_hoisted_18","type","data-bs-toggle","src","_imports_0","width","alt","style","_createVNode","_component_CustomLoading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_normalizeClass","isCollapse","_hoisted_4","_hoisted_5","_hoisted_6","_component_router_link","to","onClick","_cache","$event","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_withModifiers","args","$options","logout","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_toDisplayString","user","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","isLogin","_createBlock","_component_router_view","name","methods","this","success","$httpMsgState","$router","push","$swal","fire","icon","title","document","cookie","sessionStorage","removeItem","token","replace","getItem","defaults","headers","common","Authorization","checkLogin","__exports__","render"],"mappings":"gHAAA,wLAEO,SAASA,EAAKC,GACnB,OAAO,IAAIC,QAAQ,CAACC,EAASC,KAC3BC,IAAMC,IAAIL,GACPM,KAAMC,IACLL,EAAQK,KACPC,MAAOC,IACRN,EAAOM,EAAIC,aAKZ,SAASC,EAAMX,EAAKY,EAAO,IAChC,OAAO,IAAIX,QAAQ,CAACC,EAASC,KAC3BC,IAAMS,KAAKb,EAAKY,GACbN,KAAMC,IACLL,EAAQK,KACPC,MAAOC,IACRN,EAAOM,EAAIC,aAKZ,SAASI,EAAKd,EAAKY,EAAO,IAC/B,OAAO,IAAIX,QAAQ,CAACC,EAASC,KAC3BC,IAAMW,IAAIf,EAAKY,GACZN,KAAMC,IACLL,EAAQK,KACPC,MAAOC,IACRN,EAAOM,EAAIC,aAKZ,SAASM,EAAQhB,GACtB,OAAO,IAAIC,QAAQ,CAACC,EAASC,KAC3BC,IAAMa,OAAOjB,GACVM,KAAMC,IACLL,EAAQK,KACPC,MAAOC,IACRN,EAAOM,EAAIC,e,oCCzCnB,W,qBCAAQ,EAAOC,QAAU,IAA0B,kC,8GCEpCC,MAAM,W,GACJA,MAAM,wB,GACJA,MAAM,Y,GAOFA,MAAM,gB,EACTC,gCAEK,MAFDD,MAAM,iDAAgD,eAE1D,G,GACIA,MAAM,6B,EAMJC,gCAA8D,KAA3DD,MAAM,kDAAgD,S,EACzDC,gCAA2C,QAArCD,MAAM,qBAAoB,QAAI,G,EAQpCC,gCAA6D,KAA1DD,MAAM,iDAA+C,S,EACxDC,gCAA2C,QAArCD,MAAM,qBAAoB,QAAI,G,EAQpCC,gCAA+D,KAA5DD,MAAM,mDAAiD,S,EAC1DC,gCAA2C,QAArCD,MAAM,qBAAoB,QAAI,G,EAQpCC,gCAAgE,KAA7DD,MAAM,oDAAkD,S,EAC3DC,gCAA4C,QAAtCD,MAAM,qBAAoB,SAAK,G,EAGzCC,gCAKK,MALDD,MAAM,kDAAgD,CACxDC,gCAGI,KAHDC,KAAK,IAAIF,MAAM,+C,CAChBC,gCAA0D,KAAvDD,MAAM,+CACTC,gCAAmC,QAA7BD,MAAM,aAAY,Y,MAGxBA,MAAM,a,EAMNC,gCAA0D,KAAvDD,MAAM,8CAA4C,S,EACrDC,gCAAiC,QAA3BD,MAAM,aAAY,MAAE,G,GAD1BG,EACAC,G,GAQLJ,MAAM,sB,GAEPA,MAAM,0E,GAWJK,KAAK,SACLL,MAAM,gEACNM,iBAAe,Y,EAEfL,gCAA6E,OAAxEM,IAAAC,IAAgDC,MAAM,KAAKC,IAAI,U,YAC7DV,MAAM,Q,GAEVA,MAAM,uC,EACTC,gCAA6E,OAAxEM,IAJAC,IAIgDC,MAAM,KAAKC,IAAI,U,YAC7DV,MAAM,Q,GAEXA,MAAM,2D,EACRC,gCAIK,WAHHA,gCAEI,KAFDD,MAAM,sBAAsBE,KAAK,K,CAClCD,gCAAwD,KAArDD,MAAM,6C,6BAA+C,c,KASxDC,gCAAyD,KAAtDD,MAAM,6CAA2C,S,GAQ1DA,MAAM,yCACNW,MAAA,qC,iQArHVC,yBAAoCC,EAAA,CAApBC,OAAQC,EAAAC,WAAS,mBACjCf,gCA2HM,MA3HNgB,EA2HM,CA1HJhB,gCAyHM,MAzHNiB,EAyHM,CAxHJjB,gCAuHM,MAvHNkB,EAuHM,CArHJlB,gCAgEM,OA/DJD,MAAKoB,4BAAA,CAAC,oHACyC,iBACpBL,EAAAM,e,CAE3BpB,gCA0DM,MA1DNqB,EA0DM,CAzDJC,EAGAtB,gCAqDK,KArDLuB,EAqDK,CApDHvB,gCAQK,WAPHW,yBAMca,EAAA,CANDC,GAAG,kBACd1B,MAAM,mEACL2B,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEd,EAAAM,YAAa,I,8BAErB,IAA8D,CAA9DS,EACAC,I,QAGJ9B,gCAQK,WAPHW,yBAMca,EAAA,CANDC,GAAG,gBACd1B,MAAM,mEACL2B,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEd,EAAAM,YAAa,I,8BAErB,IAA6D,CAA7DW,EACAC,I,QAGJhC,gCAQK,WAPHW,yBAMca,EAAA,CANDC,GAAG,kBACd1B,MAAM,mEACL2B,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEd,EAAAM,YAAa,I,8BAErB,IAA+D,CAA/Da,EACAC,I,QAGJlC,gCAQK,WAPHW,yBAMca,EAAA,CANDC,GAAG,iBACd1B,MAAM,mEACL2B,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEd,EAAAM,YAAa,I,8BAErB,IAAgE,CAAhEe,EACAC,I,QAGJC,EAMArC,gCASK,KATLsC,EASK,CARHtC,gCAOI,KANFC,KAAK,IACLF,MAAM,8CACL2B,QAAKC,EAAA,KAAAA,EAAA,GAAAY,2BAAA,IAAAC,IAAUC,EAAAC,QAAAD,EAAAC,UAAAF,GAAM,e,aAWhCxC,gCAiDM,MAjDN2C,EAiDM,CAhDJ3C,gCAuCM,MAvCN4C,EAuCM,CAnCJ5C,gCAMS,UALPI,KAAK,SACLL,MAAM,0CACL2B,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEd,EAAAM,YAAcN,EAAAM,a,CAEtBpB,gCAA+D,QAAzDD,MAAKoB,4BAAA,CAAC,SAAQ,SAAsBL,EAAAM,e,UAE5CpB,gCAOS,SAPT6C,EAOS,CAFPC,EACA9C,gCAAsC,QAAtC+C,EAAsCC,6BAAflC,EAAAmC,MAAI,KAE7BjD,gCAGM,MAHNkD,EAGM,CAFJC,EACAnD,gCAAsC,QAAtCoD,EAAsCJ,6BAAflC,EAAAmC,MAAI,KAE7BjD,gCAeK,KAfLqD,EAeK,CAdHC,EAKAtD,gCAQK,WAPHA,gCAMI,KALFC,KAAK,IACLF,MAAM,sBACL2B,QAAKC,EAAA,KAAAA,EAAA,GAAAY,2BAAA,IAAAC,IAAUC,EAAAC,QAAAD,EAAAC,UAAAF,GAAM,e,CAEtBe,E,6BAAyD,gBAOjEvD,gCAKM,MALNwD,EAKM,CAD4B1C,EAAA2C,S,yBAAhCC,yBAAuDC,EAAA,C,MAAzCV,KAAMnC,EAAAmC,M,kGAWjB,GACbW,KAAM,YACNrE,OACE,MAAO,CACL0D,KAAM,GACNlC,WAAW,EACX0C,SAAS,EACTrC,YAAY,IAGhByC,QAAS,CACP,mBACEC,KAAK/C,WAAY,EAEjB,IACE,MAAMpC,EAAO,sDACPO,QAAYI,mBAAMX,IAClB,QAAEoF,GAAY7E,EAAIK,KACpBwE,GACFD,KAAKL,SAAU,EACfK,KAAKE,cAAc9E,EAAIK,KAAM,QAE7BuE,KAAKE,cAAc9E,EAAIK,KAAM,MAC7BuE,KAAKG,QAAQC,KAAK,WAEpBJ,KAAK/C,WAAY,EACjB,MAAO3B,GACP0E,KAAKK,MAAMC,KAAK,CAAEC,KAAM,QAASC,MAAOlF,MAG5CsD,SACE6B,SAASC,OAAS,2BAClBC,eAAeC,WAAW,UAC1BZ,KAAKG,QAAQC,KAAK,OAGtB,gBACE,MAAMS,EAAQJ,SAASC,OAAOI,QAAQ,8CAA+C,MACrFd,KAAKb,KAAOwB,eAAeI,QAAQ,UAAYJ,eAAeI,QAAQ,UAAY,OAClFf,KAAK/E,MAAM+F,SAASC,QAAQC,OAAOC,cAAgBN,EAC/CA,QACIb,KAAKoB,aAEXpB,KAAKG,QAAQC,KAAK,Y,iCCvKxB,MAAMiB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-25ccfcf2.7c5be62f.js","sourcesContent":["import axios from 'axios';\n\nexport function $get(url) {\n  return new Promise((resolve, reject) => {\n    axios.get(url)\n      .then((res) => {\n        resolve(res);\n      }).catch((err) => {\n        reject(err.message);\n      });\n  });\n}\n\nexport function $post(url, data = {}) {\n  return new Promise((resolve, reject) => {\n    axios.post(url, data)\n      .then((res) => {\n        resolve(res);\n      }).catch((err) => {\n        reject(err.message);\n      });\n  });\n}\n\nexport function $put(url, data = {}) {\n  return new Promise((resolve, reject) => {\n    axios.put(url, data)\n      .then((res) => {\n        resolve(res);\n      }).catch((err) => {\n        reject(err.message);\n      });\n  });\n}\n\nexport function $delete(url) {\n  return new Promise((resolve, reject) => {\n    axios.delete(url)\n      .then((res) => {\n        resolve(res);\n      }).catch((err) => {\n        reject(err.message);\n      });\n  });\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Dashboard.vue?vue&type=style&index=0&id=cab661e8&lang=scss\"","module.exports = __webpack_public_path__ + \"img/avatar-female.da064045.svg\";","<template>\n  <CustomLoading :active=\"isLoading\"/>\n  <div class=\"backend\">\n    <div class=\"container-fluid gx-0\">\n      <div class=\"row gx-0\">\n        <!-- 左側導覽列 -->\n        <div\n          class=\"sidebar col-md-3 col-lg-2 bg-primary text-white d-flex flex-column\n          justify-content-between vh-100 position-sticky\"\n          :class=\"{ 'close-sidebar': isCollapse }\"\n        >\n          <div class=\"sidebar-list\">\n            <h1 class=\"title fs-5 text-center d-none d-md-block my-4\">\n              Dashboard\n            </h1>\n            <ul class=\"list-unstyled text-nowrap\">\n              <li>\n                <router-link to=\"/admin/products\"\n                  class=\"link text-white text-center text-md-start py-4 p-md-3 opacity-75\"\n                  @click=\"isCollapse = true\"\n                >\n                  <i class=\"fas fa-list-alt fa-fw d-none d-md-inline-block\"></i>\n                  <span class=\"ps-md-3 fw-normal\">商品管理</span>\n                </router-link>\n              </li>\n              <li>\n                <router-link to=\"/admin/orders\"\n                  class=\"link text-white text-center text-md-start py-4 p-md-3 opacity-75\"\n                  @click=\"isCollapse = true\"\n                >\n                  <i class=\"fas fa-list-ul fa-fw d-none d-md-inline-block\"></i>\n                  <span class=\"ps-md-3 fw-normal\">訂單管理</span>\n                </router-link>\n              </li>\n              <li>\n                <router-link to=\"/admin/articles\"\n                  class=\"link text-white text-center text-md-start py-4 p-md-3 opacity-75\"\n                  @click=\"isCollapse = true\"\n                >\n                  <i class=\"fas fa-book-open fa-fw d-none d-md-inline-block\"></i>\n                  <span class=\"ps-md-3 fw-normal\">文章管理</span>\n                </router-link>\n              </li>\n              <li>\n                <router-link to=\"/admin/coupons\"\n                  class=\"link text-white text-center text-md-start py-4 p-md-3 opacity-75\"\n                  @click=\"isCollapse = true\"\n                >\n                  <i class=\"fas fa-ticket-alt fa-fw d-none d-md-inline-block\"></i>\n                  <span class=\"ps-md-3 fw-normal\">優惠券管理</span>\n                </router-link>\n              </li>\n              <li class=\"d-md-none border-top border-secondary border-2\">\n                <a href=\"#\" class=\"link text-white text-center py-4 opacity-75\">\n                  <i class=\"fas fa-ticket-alt d-none d-md-inline-block\"></i>\n                  <span class=\"fw-normal\">回到前台</span>\n                </a>\n              </li>\n              <li class=\"d-md-none\">\n                <a\n                  href=\"#\"\n                  class=\"link text-white text-center py-4 opacity-75\"\n                  @click.prevent=\"logout\"\n                >\n                  <i class=\"fas fa-ticket-alt d-none d-md-inline-block\"></i>\n                  <span class=\"fw-normal\">登出</span>\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n\n        <!-- 右側-->\n        <div class=\"col-md-9 col-lg-10\">\n          <div\n            class=\"bg-whiteBlur d-flex justify-content-end shadow-sm sticky-top px-4 py-3\"\n          >\n          <!-- 上方帳號管理 -->\n            <button\n              type=\"button\"\n              class=\"btn d-md-none position-relative me-auto\"\n              @click=\"isCollapse = !isCollapse\"\n            >\n              <span class=\"burger\" :class=\"{ 'active': !isCollapse }\"></span>\n            </button>\n            <button\n              type=\"button\"\n              class=\"text-gray d-none d-md-flex align-items-center dropdown-toggle\"\n              data-bs-toggle=\"dropdown\"\n            >\n              <img src=\"@/assets/images/backend/avatar-female.svg\" width=\"35\" alt=\"avatar\">\n              <small class=\"ms-2\">{{ user }}</small>\n            </button>\n            <div class=\"d-flex align-items-center d-md-none\">\n              <img src=\"@/assets/images/backend/avatar-female.svg\" width=\"35\" alt=\"avatar\">\n              <small class=\"ms-2\">{{ user }}</small>\n            </div>\n            <ul class=\"user-dropdown dropdown-menu dropdown-menu-end shadow-sm\">\n              <li>\n                <a class=\"small dropdown-item\" href=\"#\">\n                  <i class=\"fas fa-home-lg-alt fa-fw opacity-50 me-1\"></i> 回到前台\n                </a>\n              </li>\n              <li>\n                <a\n                  href=\"#\"\n                  class=\"small dropdown-item\"\n                  @click.prevent=\"logout\"\n                >\n                  <i class=\"fas fa-sign-out-alt fa-fw opacity-50 me-1\"></i> 登出\n                </a>\n              </li>\n            </ul>\n          </div>\n\n          <!-- 下方主要內容 -->\n          <div\n            class=\"bg-lighter position-relative py-5 px-4\"\n            style=\"min-height: calc(100vh - 66px)\"\n          >\n            <router-view :user=\"user\" v-if=\"isLogin\"></router-view>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { $post } from '@/assets/javascript/fetchAPI';\n\nexport default {\n  name: 'Dashboard',\n  data() {\n    return {\n      user: '',\n      isLoading: false,\n      isLogin: false,\n      isCollapse: true,\n    };\n  },\n  methods: {\n    async checkLogin() {\n      this.isLoading = true;\n\n      try {\n        const url = `${process.env.VUE_APP_URL}/api/user/check`;\n        const res = await $post(url);\n        const { success } = res.data;\n        if (success) {\n          this.isLogin = true;\n          this.$httpMsgState(res.data, '登入');\n        } else {\n          this.$httpMsgState(res.data, '登入');\n          this.$router.push('/login');\n        }\n        this.isLoading = false;\n      } catch (err) {\n        this.$swal.fire({ icon: 'error', title: err });\n      }\n    },\n    logout() {\n      document.cookie = 'token=; expires=; path=/';\n      sessionStorage.removeItem('userId');\n      this.$router.push('/');\n    },\n  },\n  async created() {\n    const token = document.cookie.replace(/(?:(?:^|.*;\\s*)token\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n    this.user = sessionStorage.getItem('userId') ? sessionStorage.getItem('userId') : 'User';\n    this.axios.defaults.headers.common.Authorization = token;\n    if (token) {\n      await this.checkLogin();\n    } else {\n      this.$router.push('/login');\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.backend {\n  @import \"@/assets/stylesheets/all-back\";\n}\n</style>\n","import { render } from \"./Dashboard.vue?vue&type=template&id=cab661e8\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\n\nimport \"./Dashboard.vue?vue&type=style&index=0&id=cab661e8&lang=scss\"\n\nimport exportComponent from \"/Users/ksyobo_/vue-dorii/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}