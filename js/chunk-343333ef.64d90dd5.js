(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-343333ef"],{"109e":function(e,t,n){
/*!
  * Bootstrap manipulator.js v5.0.2 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(t,n){e.exports=n()})(0,(function(){"use strict";function e(e){return"true"===e||"false"!==e&&(e===Number(e).toString()?Number(e):""===e||"null"===e?null:e)}function t(e){return e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}const n={setDataAttribute(e,n,o){e.setAttribute("data-bs-"+t(n),o)},removeDataAttribute(e,n){e.removeAttribute("data-bs-"+t(n))},getDataAttributes(t){if(!t)return{};const n={};return Object.keys(t.dataset).filter(e=>e.startsWith("bs")).forEach(o=>{let s=o.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),n[s]=e(t.dataset[o])}),n},getDataAttribute(n,o){return e(n.getAttribute("data-bs-"+t(o)))},offset(e){const t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}},position(e){return{top:e.offsetTop,left:e.offsetLeft}}};return n}))},"13d5":function(e,t,n){"use strict";var o=n("23e7"),s=n("d58f").left,a=n("a640"),r=n("2d00"),i=n("605d"),l=!i&&r>79&&r<83,c=l||!a("reduce");o({target:"Array",proto:!0,forced:c},{reduce:function(e){var t=arguments.length;return s(this,e,t,t>1?arguments[1]:void 0)}})},1517:function(e,t,n){
/*!
  * Bootstrap offcanvas.js v5.0.2 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(t,o){e.exports=o(n("848f"),n("109e"),n("6a95"),n("302d"))})(0,(function(e,t,n,o){"use strict";function s(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var a=s(e),r=s(t),i=s(n),l=s(o);const c=1e3,d="transitionend",u=e=>null===e||void 0===e?""+e:{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),m=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#"+n.split("#")[1]),t=n&&"#"!==n?n.trim():null}return t},f=e=>{const t=m(e);return t?document.querySelector(t):null},b=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const o=Number.parseFloat(t),s=Number.parseFloat(n);return o||s?(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*c):0},p=e=>{e.dispatchEvent(new Event(d))},h=e=>!(!e||"object"!==typeof e)&&("undefined"!==typeof e.jquery&&(e=e[0]),"undefined"!==typeof e.nodeType),g=e=>h(e)?e.jquery?e[0]:e:"string"===typeof e&&e.length>0?a["default"].findOne(e):null,O=(e,t,n)=>{Object.keys(n).forEach(o=>{const s=n[o],a=t[o],r=a&&h(a)?"element":u(a);if(!new RegExp(s).test(r))throw new TypeError(`${e.toUpperCase()}: Option "${o}" provided type "${r}" but expected type "${s}".`)})},j=e=>!(!h(e)||0===e.getClientRects().length)&&"visible"===getComputedStyle(e).getPropertyValue("visibility"),E=e=>!e||e.nodeType!==Node.ELEMENT_NODE||(!!e.classList.contains("disabled")||("undefined"!==typeof e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled"))),y=e=>e.offsetHeight,v=()=>{const{jQuery:e}=window;return e&&!document.body.hasAttribute("data-bs-no-jquery")?e:null},N=[],V=e=>{"loading"===document.readyState?(N.length||document.addEventListener("DOMContentLoaded",()=>{N.forEach(e=>e())}),N.push(e)):e()},w=e=>{V(()=>{const t=v();if(t){const n=e.NAME,o=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=o,e.jQueryInterface)}})},_=e=>{"function"===typeof e&&e()},k=(e,t,n=!0)=>{if(!n)return void _(e);const o=5,s=b(t)+o;let a=!1;const r=({target:n})=>{n===t&&(a=!0,t.removeEventListener(d,r),_(e))};t.addEventListener(d,r),setTimeout(()=>{a||p(t)},s)},x=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",C=".sticky-top";class A{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",t=>t+e),this._setElementAttributes(x,"paddingRight",t=>t+e),this._setElementAttributes(C,"marginRight",t=>t-e)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const o=this.getWidth(),s=e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+o)return;this._saveInitialAttribute(e,t);const s=window.getComputedStyle(e)[t];e.style[t]=n(Number.parseFloat(s))+"px"};this._applyManipulationCallback(e,s)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(x,"paddingRight"),this._resetElementAttributes(C,"marginRight")}_saveInitialAttribute(e,t){const n=e.style[t];n&&r["default"].setDataAttribute(e,t,n)}_resetElementAttributes(e,t){const n=e=>{const n=r["default"].getDataAttribute(e,t);"undefined"===typeof n?e.style.removeProperty(t):(r["default"].removeDataAttribute(e,t),e.style[t]=n)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,t){h(e)?t(e):a["default"].find(e,this._element).forEach(t)}isOverflowing(){return this.getWidth()>0}}const T={isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},S={isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},B="backdrop",D="modal-backdrop",F="fade",$="show",L="mousedown.bs."+B;class I{constructor(e){this._config=this._getConfig(e),this._isAppended=!1,this._element=null}show(e){this._config.isVisible?(this._append(),this._config.isAnimated&&y(this._getElement()),this._getElement().classList.add($),this._emulateAnimation(()=>{_(e)})):_(e)}hide(e){this._config.isVisible?(this._getElement().classList.remove($),this._emulateAnimation(()=>{this.dispose(),_(e)})):_(e)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=D,this._config.isAnimated&&e.classList.add(F),this._element=e}return this._element}_getConfig(e){return e={...T,..."object"===typeof e?e:{}},e.rootElement=g(e.rootElement),O(B,e,S),e}_append(){this._isAppended||(this._config.rootElement.appendChild(this._getElement()),i["default"].on(this._getElement(),L,()=>{_(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(i["default"].off(this._element,L),this._element.remove(),this._isAppended=!1)}_emulateAnimation(e){k(e,this._getElement(),this._config.isAnimated)}}const M="offcanvas",q="bs.offcanvas",z="."+q,P=".data-api",H=`load${z}${P}`,R="Escape",W={backdrop:!0,keyboard:!0,scroll:!1},U={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},K="show",Q=".offcanvas.show",Y="show"+z,G="shown"+z,J="hide"+z,X="hidden"+z,Z="focusin"+z,ee=`click${z}${P}`,te="click.dismiss"+z,ne="keydown.dismiss"+z,oe='[data-bs-dismiss="offcanvas"]',se='[data-bs-toggle="offcanvas"]';class ae extends l["default"]{constructor(e,t){super(e),this._config=this._getConfig(t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._addEventListeners()}static get NAME(){return M}static get Default(){return W}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown)return;const t=i["default"].trigger(this._element,Y,{relatedTarget:e});if(t.defaultPrevented)return;this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||((new A).hide(),this._enforceFocusOnElement(this._element)),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(K);const n=()=>{i["default"].trigger(this._element,G,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown)return;const e=i["default"].trigger(this._element,J);if(e.defaultPrevented)return;i["default"].off(document,Z),this._element.blur(),this._isShown=!1,this._element.classList.remove(K),this._backdrop.hide();const t=()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new A).reset(),i["default"].trigger(this._element,X)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),super.dispose(),i["default"].off(document,Z)}_getConfig(e){return e={...W,...r["default"].getDataAttributes(this._element),..."object"===typeof e?e:{}},O(M,e,U),e}_initializeBackDrop(){return new I({isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_enforceFocusOnElement(e){i["default"].off(document,Z),i["default"].on(document,Z,t=>{document===t.target||e===t.target||e.contains(t.target)||e.focus()}),e.focus()}_addEventListeners(){i["default"].on(this._element,te,oe,()=>this.hide()),i["default"].on(this._element,ne,e=>{this._config.keyboard&&e.key===R&&this.hide()})}static jQueryInterface(e){return this.each((function(){const t=ae.getOrCreateInstance(this,e);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}return i["default"].on(document,ee,se,(function(e){const t=f(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),E(this))return;i["default"].one(t,X,()=>{j(this)&&this.focus()});const n=a["default"].findOne(Q);n&&n!==t&&ae.getInstance(n).hide();const o=ae.getOrCreateInstance(t);o.toggle(this)})),i["default"].on(window,H,()=>a["default"].find(Q).forEach(e=>ae.getOrCreateInstance(e).show())),w(ae),ae}))},"302d":function(e,t,n){
/*!
  * Bootstrap base-component.js v5.0.2 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(t,o){e.exports=o(n("6ee1"),n("848f"),n("6a95"))})(0,(function(e,t,n){"use strict";function o(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var s=o(e),a=o(t),r=o(n);const i=1e3,l="transitionend",c=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const o=Number.parseFloat(t),s=Number.parseFloat(n);return o||s?(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*i):0},d=e=>{e.dispatchEvent(new Event(l))},u=e=>!(!e||"object"!==typeof e)&&("undefined"!==typeof e.jquery&&(e=e[0]),"undefined"!==typeof e.nodeType),m=e=>u(e)?e.jquery?e[0]:e:"string"===typeof e&&e.length>0?a["default"].findOne(e):null,f=e=>{"function"===typeof e&&e()},b=(e,t,n=!0)=>{if(!n)return void f(e);const o=5,s=c(t)+o;let a=!1;const r=({target:n})=>{n===t&&(a=!0,t.removeEventListener(l,r),f(e))};t.addEventListener(l,r),setTimeout(()=>{a||d(t)},s)},p="5.0.2";class h{constructor(e){e=m(e),e&&(this._element=e,s["default"].set(this._element,this.constructor.DATA_KEY,this))}dispose(){s["default"].remove(this._element,this.constructor.DATA_KEY),r["default"].off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(e=>{this[e]=null})}_queueCallback(e,t,n=!0){b(e,t,n)}static getInstance(e){return s["default"].get(e,this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"===typeof t?t:null)}static get VERSION(){return p}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return"bs."+this.NAME}static get EVENT_KEY(){return"."+this.DATA_KEY}}return h}))},"603c":function(e,t,n){"use strict";var o=n("7a23");const s={class:"container d-flex flex-column"},a={"aria-label":"breadcrumb",class:"mt-auto"},r={class:"breadcrumb"},i={class:"breadcrumb-item"},l={class:"fs-1 text-white text-spacing-m d-flex align-items-center pb-2"},c={class:"fs-3 ms-2 ms-md-3"};function d(e,t,n,d,u,m){const f=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"banner bg-cover d-flex position-relative",style:Object(o["normalizeStyle"])(`background-image: url(${n.imageUrl})`)},[Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("nav",a,[Object(o["createElementVNode"])("ol",r,[Object(o["createElementVNode"])("li",i,[Object(o["createVNode"])(f,{to:"/",class:"link-white d-inline-block"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("首頁")]),_:1})]),Object(o["renderSlot"])(e.$slots,"default")])]),Object(o["createElementVNode"])("h2",l,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.title)+" ",1),Object(o["createElementVNode"])("span",c,Object(o["toDisplayString"])(n.engTitle),1)])])],4)}var u={name:"Banner Component",props:{title:String,engTitle:String,imageUrl:String}},m=n("d959"),f=n.n(m);const b=f()(u,[["render",d]]);t["a"]=b},"605d":function(e,t,n){"use strict";var o=n("da84"),s=n("c6b6");e.exports="process"===s(o.process)},"6a95":function(e,t,n){
/*!
  * Bootstrap event-handler.js v5.0.2 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(t,n){e.exports=n()})(0,(function(){"use strict";const e=()=>{const{jQuery:e}=window;return e&&!document.body.hasAttribute("data-bs-no-jquery")?e:null},t=/[^.]*(?=\..*)\.|.*/,n=/\..*/,o=/::\d+$/,s={};let a=1;const r={mouseenter:"mouseover",mouseleave:"mouseout"},i=/^(mouseenter|mouseleave)/i,l=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function c(e,t){return t&&`${t}::${a++}`||e.uidEvent||a++}function d(e){const t=c(e);return e.uidEvent=t,s[t]=s[t]||{},s[t]}function u(e,t){return function n(o){return o.delegateTarget=e,n.oneOff&&j.off(e,o.type,t),t.apply(e,[o])}}function m(e,t,n){return function o(s){const a=e.querySelectorAll(t);for(let{target:r}=s;r&&r!==this;r=r.parentNode)for(let i=a.length;i--;)if(a[i]===r)return s.delegateTarget=r,o.oneOff&&j.off(e,s.type,t,n),n.apply(r,[s]);return null}}function f(e,t,n=null){const o=Object.keys(e);for(let s=0,a=o.length;s<a;s++){const a=e[o[s]];if(a.originalHandler===t&&a.delegationSelector===n)return a}return null}function b(e,t,n){const o="string"===typeof t,s=o?n:t;let a=O(e);const r=l.has(a);return r||(a=e),[o,s,a]}function p(e,n,o,s,a){if("string"!==typeof n||!e)return;if(o||(o=s,s=null),i.test(n)){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};s?s=e(s):o=e(o)}const[r,l,p]=b(n,o,s),h=d(e),g=h[p]||(h[p]={}),O=f(g,l,r?o:null);if(O)return void(O.oneOff=O.oneOff&&a);const j=c(l,n.replace(t,"")),E=r?m(e,o,s):u(e,o);E.delegationSelector=r?o:null,E.originalHandler=l,E.oneOff=a,E.uidEvent=j,g[j]=E,e.addEventListener(p,E,r)}function h(e,t,n,o,s){const a=f(t[n],o,s);a&&(e.removeEventListener(n,a,Boolean(s)),delete t[n][a.uidEvent])}function g(e,t,n,o){const s=t[n]||{};Object.keys(s).forEach(a=>{if(a.includes(o)){const o=s[a];h(e,t,n,o.originalHandler,o.delegationSelector)}})}function O(e){return e=e.replace(n,""),r[e]||e}const j={on(e,t,n,o){p(e,t,n,o,!1)},one(e,t,n,o){p(e,t,n,o,!0)},off(e,t,n,s){if("string"!==typeof t||!e)return;const[a,r,i]=b(t,n,s),l=i!==t,c=d(e),u=t.startsWith(".");if("undefined"!==typeof r){if(!c||!c[i])return;return void h(e,c,i,r,a?n:null)}u&&Object.keys(c).forEach(n=>{g(e,c,n,t.slice(1))});const m=c[i]||{};Object.keys(m).forEach(n=>{const s=n.replace(o,"");if(!l||t.includes(s)){const t=m[n];h(e,c,i,t.originalHandler,t.delegationSelector)}})},trigger(t,n,o){if("string"!==typeof n||!t)return null;const s=e(),a=O(n),r=n!==a,i=l.has(a);let c,d=!0,u=!0,m=!1,f=null;return r&&s&&(c=s.Event(n,o),s(t).trigger(c),d=!c.isPropagationStopped(),u=!c.isImmediatePropagationStopped(),m=c.isDefaultPrevented()),i?(f=document.createEvent("HTMLEvents"),f.initEvent(a,d,!0)):f=new CustomEvent(n,{bubbles:d,cancelable:!0}),"undefined"!==typeof o&&Object.keys(o).forEach(e=>{Object.defineProperty(f,e,{get(){return o[e]}})}),m&&f.preventDefault(),u&&t.dispatchEvent(f),f.defaultPrevented&&"undefined"!==typeof c&&c.preventDefault(),f}};return j}))},"6ee1":function(e,t,n){
/*!
  * Bootstrap data.js v5.0.2 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(t,n){e.exports=n()})(0,(function(){"use strict";const e=new Map;var t={set(t,n,o){e.has(t)||e.set(t,new Map);const s=e.get(t);s.has(n)||0===s.size?s.set(n,o):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`)},get(t,n){return e.has(t)&&e.get(t).get(n)||null},remove(t,n){if(!e.has(t))return;const o=e.get(t);o.delete(n),0===o.size&&e.delete(t)}};return t}))},7168:function(e,t,n){"use strict";n.r(t),n.d(t,"$get",(function(){return a})),n.d(t,"$post",(function(){return r})),n.d(t,"$put",(function(){return i})),n.d(t,"$delete",(function(){return l}));var o=n("bc3a"),s=n.n(o);function a(e){return new Promise((t,n)=>{s.a.get(e).then(e=>{t(e)}).catch(e=>{n(e.message)})})}function r(e,t={}){return new Promise((n,o)=>{s.a.post(e,t).then(e=>{n(e)}).catch(e=>{o(e.message)})})}function i(e,t={}){return new Promise((n,o)=>{s.a.put(e,t).then(e=>{n(e)}).catch(e=>{o(e.message)})})}function l(e){return new Promise((t,n)=>{s.a.delete(e).then(e=>{t(e)}).catch(e=>{n(e.message)})})}},7342:function(e,t,n){"use strict";n("13d5");var o=n("be92"),s=n("bc3a"),a=n.n(s),r=n("f9d5"),i=n.n(r),l=n("1517"),c=n.n(l);t["a"]=Object(o["b"])("cartStore",{state:()=>({carts:[],total:0,finalTotal:0,offcanvas:""}),getters:{cartQty({carts:e}){return e.length?e.map(e=>e.option.length).reduce((e,t)=>e+t):0}},actions:{getCarts(){return new Promise((e,t)=>{const n="https://vue3-course-api.hexschool.io/api/peihan/cart";a.a.get(n).then(n=>{const{success:o,data:s,message:a}=n.data;o?(this.carts=s.carts,this.total=s.total,this.finalTotal=Math.floor(s.final_total),e()):(i.a.fire({icon:"error",title:a}),t())}).catch(e=>{i.a.fire({icon:"error",title:e.message})})})},openOffcanvas(){this.offcanvas.show()},hideOffcanvas(){this.offcanvas.hide()},initOffcanvas(e){this.offcanvas=new c.a(e)}}})},"848f":function(e,t,n){
/*!
  * Bootstrap selector-engine.js v5.0.2 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(t,n){e.exports=n()})(0,(function(){"use strict";const e=3,t={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(e=>e.matches(t))},parents(t,n){const o=[];let s=t.parentNode;while(s&&s.nodeType===Node.ELEMENT_NODE&&s.nodeType!==e)s.matches(n)&&o.push(s),s=s.parentNode;return o},prev(e,t){let n=e.previousElementSibling;while(n){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;while(n){if(n.matches(t))return[n];n=n.nextElementSibling}return[]}};return t}))},a640:function(e,t,n){"use strict";var o=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&o((function(){n.call(null,t||function(){return 1},1)}))}},b7c8:function(e,t,n){"use strict";n.r(t);var o=n("7a23");const s=Object(o["createElementVNode"])("li",{class:"breadcrumb-item active","aria-current":"page"}," 結帳 ",-1),a={class:"checkout bg-light"},r={class:"container py-7 py-md-9"},i=Object(o["createStaticVNode"])('<ul class="steps list-unstyled d-flex justify-content-between position-relative mx-auto mb-8"><li class="steps-item active w-33 d-flex flex-column align-items-center py-2 px-4"><p class="small rounded-circle text-center mb-2"> 1 </p> 資料填寫 </li><li class="steps-item w-33 d-flex flex-column align-items-center py-2 px-4"><p class="small rounded-circle text-center mb-2"> 2 </p> 訂單建立 </li><li class="steps-item w-33 d-flex flex-column align-items-center py-2 px-4"><p class="small rounded-circle text-center mb-2"> 3 </p> 付款完成 </li></ul>',1),l={class:"row gx-6"},c={class:"col-lg col-xl-5 mb-4"},d={class:"bg-white p-5"},u={class:"h5 text-primary text-center border-bottom d-flex align-items-center justify-content-center position-relative pb-3 mb-0"},m=Object(o["createElementVNode"])("i",{class:"far fa-edit"},null,-1),f={class:"product-list list-unstyled border-bottom py-4 mb-3"},b={class:"d-flex"},p=["src","alt"],h={class:"d-flex flex-column ms-4"},g={class:"fs-6 mb-1"},O={class:"small text-gray align-self-start rounded-pill mb-auto"},j={class:"mb-0"},E={class:"text-end align-self-center mb-0"},y={class:"border-bottom pb-3 mb-3"},v={class:"input-group mb-3"},N=["disabled"],V=["disabled"],w=Object(o["createElementVNode"])("i",{class:"fas fa-spinner fa-pulse"},null,-1),_={class:"small text-gray fw-bold d-flex justify-content-between mb-1"},k={key:0,class:"small text-info fw-bold d-flex justify-content-between mb-1"},x={class:"fs-6 fw-bold d-flex justify-content-between mb-0"},C=Object(o["createElementVNode"])("p",{class:"fw-bold mb-2"},"已享用之優惠",-1),A={class:"list-unstyled text-justify"},T={key:0,class:"small"},S={key:1,class:"small d-flex align-items-center mb-2"},B=Object(o["createElementVNode"])("span",{class:"badge bg-highlight rounded-1 py-1 me-2"},"免運優惠",-1),D=Object(o["createElementVNode"])("p",{class:"mb-0"},"消費滿 $1,000 免運費【系統自動套用】",-1),F=[B,D],$={key:2,class:"small d-flex align-items-center align-items-xs-center"},L=Object(o["createElementVNode"])("span",{class:"badge bg-highlight rounded-1 py-1 me-2"},"優惠促銷",-1),I={class:"mb-0"},M={class:"col-lg col-xl-7"},q={class:"bg-white p-5"},z=Object(o["createElementVNode"])("h2",{class:"h5 text-primary text-center border-bottom pb-3 mb-4"},"訂購人資訊",-1),P={class:"form-floating mb-3"},H=Object(o["createElementVNode"])("label",{for:"email"},[Object(o["createTextVNode"])("E-mail "),Object(o["createElementVNode"])("span",{class:"text-highlight"},"*")],-1),R={class:"form-floating mb-3"},W=Object(o["createElementVNode"])("label",{for:"name"},[Object(o["createTextVNode"])("姓名 "),Object(o["createElementVNode"])("span",{class:"text-highlight"},"*")],-1),U={class:"form-floating mb-3"},K=Object(o["createElementVNode"])("label",{for:"phone"},[Object(o["createTextVNode"])("手機 "),Object(o["createElementVNode"])("span",{class:"text-highlight"},"*")],-1),Q={class:"form-floating mb-3"},Y=Object(o["createElementVNode"])("option",{value:"",selected:"",disabled:""},"請選擇...",-1),G=Object(o["createElementVNode"])("option",{value:"信用卡"},"信用卡",-1),J=Object(o["createElementVNode"])("option",{value:"ATM 轉帳"},"ATM 轉帳",-1),X=Object(o["createElementVNode"])("option",{value:"Apple pay"},"Apple pay",-1),Z=Object(o["createElementVNode"])("label",{for:"payment"},[Object(o["createTextVNode"])("付款方式 "),Object(o["createElementVNode"])("span",{class:"text-highlight"},"*")],-1),ee={class:"form-floating mb-3"},te=Object(o["createElementVNode"])("label",{for:"address"},[Object(o["createTextVNode"])("收件地址 "),Object(o["createElementVNode"])("span",{class:"text-highlight"},"*")],-1),ne={class:"form-floating mb-3"},oe=Object(o["createElementVNode"])("label",{for:"ps"},"備註",-1),se=["disabled"],ae=Object(o["createElementVNode"])("i",{class:"fas fa-spinner fa-pulse me-1"},null,-1);function re(e,t,n,B,D,re){const ie=Object(o["resolveComponent"])("Banner"),le=Object(o["resolveComponent"])("Field"),ce=Object(o["resolveComponent"])("ErrorMessage"),de=Object(o["resolveComponent"])("Form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(ie,{title:"結帳",engTitle:"Checkout",imageUrl:"https://storage.googleapis.com/vue-course-api.appspot.com/peihan/1627553146437.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=Ss7BX5S9DzyBpLt4ijBgFHqMlVHSScW2%2B%2B%2BiVPG8RH2oO793fOoUe3PFpChuGs5ZS0nQT6dLAYY3XkkTue%2FhJuCbE5l5vrvmVOFuMG2j8sGLftEojWxu6BakqmO1e2mlNudVEGi%2FsGc94Um5T7336KclW77FHSdQJzwRIiUJJAHDzLnnw2wKbLmhaEwrxbe66Y9FzaZRN%2BYJ7oVQ1ovLoFp5VTSxGLmt0cGi1VqHDlpqXcKnzHp9oRMJt94GJtaCaE%2FH4b1cQSMKxPx%2FHgFUGluzeIZWXzBjFQTbj6iKSdD4xndLTv%2FIl%2F5gHNrpRtfSVXHPtHJ8L8VpIcVOi4pe9Q%3D%3D"},{default:Object(o["withCtx"])(()=>[s]),_:1}),Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("div",r,[i,Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("h2",u,[Object(o["createTextVNode"])(" 購物清單 "),Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-sm border-0 link-gray position-absolute end-0",onClick:t[0]||(t[0]=(...t)=>e.openOffcanvas&&e.openOffcanvas(...t))},[m,Object(o["createTextVNode"])(" 修改 ")])]),Object(o["createElementVNode"])("ul",f,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.carts,t=>(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:t.id},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(t.option,n=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:"d-flex justify-content-between mb-4",key:n.spec},[Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("img",{src:t.product.image,class:"product-img img-cover",alt:t.product.title},null,8,p),Object(o["createElementVNode"])("div",h,[Object(o["createElementVNode"])("h4",g,Object(o["toDisplayString"])(t.product.title),1),Object(o["createElementVNode"])("span",O,Object(o["toDisplayString"])(n.spec),1),Object(o["createElementVNode"])("p",j," NT$ "+Object(o["toDisplayString"])(e.$toCurrency(t.product.price)),1)])]),Object(o["createElementVNode"])("p",E," x "+Object(o["toDisplayString"])(n.qty),1)]))),128))],64))),128))]),Object(o["createElementVNode"])("div",y,[Object(o["createElementVNode"])("div",v,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"輸入優惠券代碼","onUpdate:modelValue":t[1]||(t[1]=e=>D.coupon.code=e),disabled:D.hasCoupon,onKeyup:t[2]||(t[2]=Object(o["withKeys"])((...e)=>re.useCoupon&&re.useCoupon(...e),["enter"]))},null,40,N),[[o["vModelText"],D.coupon.code,void 0,{trim:!0}]]),D.hasCoupon?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,type:"button",class:"btn btn-sm btn-outline-highlight",onClick:t[3]||(t[3]=e=>D.hasCoupon=!1)}," 修改優惠券 ")):(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:1,type:"button",class:"btn btn-sm btn-outline-highlight",disabled:!D.coupon.code||"use coupon"===D.loadingState,onClick:t[4]||(t[4]=(...e)=>re.useCoupon&&re.useCoupon(...e))},["use coupon"===D.loadingState?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[w,Object(o["createTextVNode"])(" 套用中 ")],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createTextVNode"])(" 套用優惠券 ")],64))],8,V))]),Object(o["createElementVNode"])("p",_,[Object(o["createTextVNode"])(" 運費 "),Object(o["createElementVNode"])("span",null,"+ $"+Object(o["toDisplayString"])(""+(e.finalTotal<1e3?120:0)),1)]),e.total!==e.finalTotal?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",k,[Object(o["createTextVNode"])(" 已折抵 "),Object(o["createElementVNode"])("span",null,"- $"+Object(o["toDisplayString"])(e.total-e.finalTotal),1)])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("p",x,[Object(o["createTextVNode"])(" 總金額 "),Object(o["createElementVNode"])("span",null,[Object(o["createTextVNode"])(" NT$ "),e.finalTotal<1e3?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$toCurrency(e.finalTotal+120)),1)],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$toCurrency(e.finalTotal)),1)],64))])])]),C,Object(o["createElementVNode"])("ul",A,[e.finalTotal>=1e3||D.usedCoupon?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",T," 暫無 ")),e.finalTotal>=1e3?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",S,F)):Object(o["createCommentVNode"])("",!0),D.usedCoupon?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",$,[L,Object(o["createElementVNode"])("p",I,Object(o["toDisplayString"])(D.usedCoupon.content),1)])):Object(o["createCommentVNode"])("",!0)])])]),Object(o["createElementVNode"])("div",M,[Object(o["createElementVNode"])("div",q,[z,Object(o["createVNode"])(de,{ref:"orderForm",onSubmit:re.onSubmit},{default:Object(o["withCtx"])(({errors:e})=>[Object(o["createElementVNode"])("div",P,[Object(o["createVNode"])(le,{type:"email",class:Object(o["normalizeClass"])(["form-control",{"is-invalid":e["E-mail"]}]),id:"email",placeholder:"E-mail",name:"E-mail",rules:"required|email",modelValue:D.userInfo.user.email,"onUpdate:modelValue":t[5]||(t[5]=e=>D.userInfo.user.email=e)},null,8,["modelValue","class"]),H,Object(o["createVNode"])(ce,{class:"invalid-feedback",name:"E-mail"})]),Object(o["createElementVNode"])("div",R,[Object(o["createVNode"])(le,{type:"text",class:Object(o["normalizeClass"])(["form-control",{"is-invalid":e["姓名"]}]),id:"name",placeholder:"姓名",name:"姓名",rules:"required",modelValue:D.userInfo.user.name,"onUpdate:modelValue":t[6]||(t[6]=e=>D.userInfo.user.name=e)},null,8,["modelValue","class"]),W,Object(o["createVNode"])(ce,{class:"invalid-feedback",name:"姓名"})]),Object(o["createElementVNode"])("div",U,[Object(o["createVNode"])(le,{type:"tel",class:Object(o["normalizeClass"])(["form-control",{"is-invalid":e["手機"]}]),id:"phone",placeholder:"手機",name:"手機",rules:re.isPhone,modelValue:D.userInfo.user.tel,"onUpdate:modelValue":t[7]||(t[7]=e=>D.userInfo.user.tel=e)},null,8,["rules","modelValue","class"]),K,Object(o["createVNode"])(ce,{class:"invalid-feedback",name:"手機"})]),Object(o["createElementVNode"])("div",Q,[Object(o["createVNode"])(le,{class:Object(o["normalizeClass"])(["form-select",{"is-invalid":e["付款方式"]}]),id:"payment",name:"付款方式",rules:"required",modelValue:D.userInfo.user.payment_method,"onUpdate:modelValue":t[8]||(t[8]=e=>D.userInfo.user.payment_method=e),as:"select"},{default:Object(o["withCtx"])(()=>[Y,G,J,X]),_:2},1032,["modelValue","class"]),Z,Object(o["createVNode"])(ce,{class:"invalid-feedback",name:"付款方式"})]),Object(o["createElementVNode"])("div",ee,[Object(o["createVNode"])(le,{type:"text",class:Object(o["normalizeClass"])(["form-control",{"is-invalid":e["收件地址"]}]),id:"address",placeholder:"收件地址",name:"收件地址",rules:"required",modelValue:D.userInfo.user.address,"onUpdate:modelValue":t[9]||(t[9]=e=>D.userInfo.user.address=e)},null,8,["modelValue","class"]),te,Object(o["createVNode"])(ce,{class:"invalid-feedback",name:"收件地址"})]),Object(o["createElementVNode"])("div",ne,[Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{class:"form-control",id:"ps",placeholder:"Leave a comment here",style:{height:"150px"},"onUpdate:modelValue":t[10]||(t[10]=e=>D.userInfo.message=e)},null,512),[[o["vModelText"],D.userInfo.message]]),oe]),Object(o["createElementVNode"])("button",{type:"submit",class:"btn btn-primary w-100 py-3",disabled:"submit order"===D.loadingState},["submit order"===D.loadingState?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[ae,Object(o["createTextVNode"])(" 送出中 ")],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createTextVNode"])(" 送出訂單 ")],64))],8,se)]),_:1},8,["onSubmit"])])])])])])],64)}var ie=n("be92"),le=n("7342"),ce=n("603c"),de=n("7168"),ue={name:"Checkout: Fill out the form",data(){return{coupon:{code:""},usedCoupon:"",hasCoupon:!1,userInfo:{user:{}},loadingState:""}},components:{Banner:ce["a"]},methods:{...Object(ie["c"])(le["a"],["getCarts","openOffcanvas","hideOffcanvas"]),async useCoupon(){this.loadingState="use coupon";try{const e="https://vue3-course-api.hexschool.io/api/peihan/coupon",t=await Object(de["$post"])(e,{data:this.coupon}),{success:n,message:o}=t.data;n?(await this.getCarts(),this.$swal.fire({icon:"success",title:"已套用優惠券"})):this.$swal.fire({icon:"error",title:o}),this.loadingState=""}catch(e){this.$swal.fire({icon:"error",title:e})}},isPhone(e){if(!e)return"手機 為必填";const t=/^(09)[0-9]{8}$/;return!!t.test(e)||"須為有效的手機號碼"},async onSubmit(){this.loadingState="submit order";try{const e="https://vue3-course-api.hexschool.io/api/peihan/order",t=await Object(de["$post"])(e,{data:this.userInfo}),{success:n,orderId:o,message:s}=t.data;n?(this.userInfo.message="",this.$refs.orderForm.resetForm(),this.$router.replace("/checkout/"+o),await this.getCarts()):this.$swal.fire({icon:"error",title:s}),this.loadingState=""}catch(e){this.$swal.fire({icon:"error",title:e})}}},watch:{carts:{handler(e){e.length?e[0]&&e[0].coupon&&(this.usedCoupon=e[0].coupon,this.coupon.code=this.usedCoupon.code,this.hasCoupon=!0):("/checkout"===this.$route.path&&this.$swal.fire({icon:"warning",title:"購物車目前沒東西～\n頁面即將跳轉回商店"}),setTimeout(()=>{this.hideOffcanvas(),this.$router.replace("/products")},1e3))},deep:!0}},computed:{...Object(ie["d"])(le["a"],["carts","total","finalTotal"])}},me=n("d959"),fe=n.n(me);const be=fe()(ue,[["render",re]]);t["default"]=be},d58f:function(e,t,n){"use strict";var o=n("59ed"),s=n("7b0b"),a=n("44ad"),r=n("07fa"),i=TypeError,l="Reduce of empty array with no initial value",c=function(e){return function(t,n,c,d){var u=s(t),m=a(u),f=r(u);if(o(n),0===f&&c<2)throw new i(l);var b=e?f-1:0,p=e?-1:1;if(c<2)while(1){if(b in m){d=m[b],b+=p;break}if(b+=p,e?b<0:f<=b)throw new i(l)}for(;e?b>=0:f>b;b+=p)b in m&&(d=n(d,m[b],b,u));return d}};e.exports={left:c(!1),right:c(!0)}}}]);
//# sourceMappingURL=chunk-343333ef.64d90dd5.js.map