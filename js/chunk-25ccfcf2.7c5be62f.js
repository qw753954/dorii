(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25ccfcf2"],{7168:function(e,t,c){"use strict";c.r(t),c.d(t,"$get",(function(){return o})),c.d(t,"$post",(function(){return s})),c.d(t,"$put",(function(){return l})),c.d(t,"$delete",(function(){return i}));var a=c("bc3a"),n=c.n(a);function o(e){return new Promise((t,c)=>{n.a.get(e).then(e=>{t(e)}).catch(e=>{c(e.message)})})}function s(e,t={}){return new Promise((c,a)=>{n.a.post(e,t).then(e=>{c(e)}).catch(e=>{a(e.message)})})}function l(e,t={}){return new Promise((c,a)=>{n.a.put(e,t).then(e=>{c(e)}).catch(e=>{a(e.message)})})}function i(e){return new Promise((t,c)=>{n.a.delete(e).then(e=>{t(e)}).catch(e=>{c(e.message)})})}},"811d":function(e,t,c){"use strict";c("b2f1")},9841:function(e,t,c){e.exports=c.p+"img/avatar-female.da064045.svg"},b2f1:function(e,t,c){},e313:function(e,t,c){"use strict";c.r(t);var a=c("7a23"),n=c("9841"),o=c.n(n);const s={class:"backend"},l={class:"container-fluid gx-0"},i={class:"row gx-0"},r={class:"sidebar-list"},d=Object(a["createElementVNode"])("h1",{class:"title fs-5 text-center d-none d-md-block my-4"}," Dashboard ",-1),m={class:"list-unstyled text-nowrap"},u=Object(a["createElementVNode"])("i",{class:"fas fa-list-alt fa-fw d-none d-md-inline-block"},null,-1),b=Object(a["createElementVNode"])("span",{class:"ps-md-3 fw-normal"},"商品管理",-1),p=Object(a["createElementVNode"])("i",{class:"fas fa-list-ul fa-fw d-none d-md-inline-block"},null,-1),f=Object(a["createElementVNode"])("span",{class:"ps-md-3 fw-normal"},"訂單管理",-1),j=Object(a["createElementVNode"])("i",{class:"fas fa-book-open fa-fw d-none d-md-inline-block"},null,-1),O=Object(a["createElementVNode"])("span",{class:"ps-md-3 fw-normal"},"文章管理",-1),h=Object(a["createElementVNode"])("i",{class:"fas fa-ticket-alt fa-fw d-none d-md-inline-block"},null,-1),g=Object(a["createElementVNode"])("span",{class:"ps-md-3 fw-normal"},"優惠券管理",-1),w=Object(a["createElementVNode"])("li",{class:"d-md-none border-top border-secondary border-2"},[Object(a["createElementVNode"])("a",{href:"#",class:"link text-white text-center py-4 opacity-75"},[Object(a["createElementVNode"])("i",{class:"fas fa-ticket-alt d-none d-md-inline-block"}),Object(a["createElementVNode"])("span",{class:"fw-normal"},"回到前台")])],-1),N={class:"d-md-none"},V=Object(a["createElementVNode"])("i",{class:"fas fa-ticket-alt d-none d-md-inline-block"},null,-1),E=Object(a["createElementVNode"])("span",{class:"fw-normal"},"登出",-1),k=[V,E],x={class:"col-md-9 col-lg-10"},y={class:"bg-whiteBlur d-flex justify-content-end shadow-sm sticky-top px-4 py-3"},v={type:"button",class:"text-gray d-none d-md-flex align-items-center dropdown-toggle","data-bs-toggle":"dropdown"},C=Object(a["createElementVNode"])("img",{src:o.a,width:"35",alt:"avatar"},null,-1),$={class:"ms-2"},L={class:"d-flex align-items-center d-md-none"},S=Object(a["createElementVNode"])("img",{src:o.a,width:"35",alt:"avatar"},null,-1),I={class:"ms-2"},B={class:"user-dropdown dropdown-menu dropdown-menu-end shadow-sm"},D=Object(a["createElementVNode"])("li",null,[Object(a["createElementVNode"])("a",{class:"small dropdown-item",href:"#"},[Object(a["createElementVNode"])("i",{class:"fas fa-home-lg-alt fa-fw opacity-50 me-1"}),Object(a["createTextVNode"])(" 回到前台 ")])],-1),M=Object(a["createElementVNode"])("i",{class:"fas fa-sign-out-alt fa-fw opacity-50 me-1"},null,-1),P={class:"bg-lighter position-relative py-5 px-4",style:{"min-height":"calc(100vh - 66px)"}};function _(e,t,c,n,o,V){const E=Object(a["resolveComponent"])("CustomLoading"),_=Object(a["resolveComponent"])("router-link"),z=Object(a["resolveComponent"])("router-view");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(E,{active:o.isLoading},null,8,["active"]),Object(a["createElementVNode"])("div",s,[Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["sidebar col-md-3 col-lg-2 bg-primary text-white d-flex flex-column justify-content-between vh-100 position-sticky",{"close-sidebar":o.isCollapse}])},[Object(a["createElementVNode"])("div",r,[d,Object(a["createElementVNode"])("ul",m,[Object(a["createElementVNode"])("li",null,[Object(a["createVNode"])(_,{to:"/admin/products",class:"link text-white text-center text-md-start py-4 p-md-3 opacity-75",onClick:t[0]||(t[0]=e=>o.isCollapse=!0)},{default:Object(a["withCtx"])(()=>[u,b]),_:1})]),Object(a["createElementVNode"])("li",null,[Object(a["createVNode"])(_,{to:"/admin/orders",class:"link text-white text-center text-md-start py-4 p-md-3 opacity-75",onClick:t[1]||(t[1]=e=>o.isCollapse=!0)},{default:Object(a["withCtx"])(()=>[p,f]),_:1})]),Object(a["createElementVNode"])("li",null,[Object(a["createVNode"])(_,{to:"/admin/articles",class:"link text-white text-center text-md-start py-4 p-md-3 opacity-75",onClick:t[2]||(t[2]=e=>o.isCollapse=!0)},{default:Object(a["withCtx"])(()=>[j,O]),_:1})]),Object(a["createElementVNode"])("li",null,[Object(a["createVNode"])(_,{to:"/admin/coupons",class:"link text-white text-center text-md-start py-4 p-md-3 opacity-75",onClick:t[3]||(t[3]=e=>o.isCollapse=!0)},{default:Object(a["withCtx"])(()=>[h,g]),_:1})]),w,Object(a["createElementVNode"])("li",N,[Object(a["createElementVNode"])("a",{href:"#",class:"link text-white text-center py-4 opacity-75",onClick:t[4]||(t[4]=Object(a["withModifiers"])((...e)=>V.logout&&V.logout(...e),["prevent"]))},k)])])])],2),Object(a["createElementVNode"])("div",x,[Object(a["createElementVNode"])("div",y,[Object(a["createElementVNode"])("button",{type:"button",class:"btn d-md-none position-relative me-auto",onClick:t[5]||(t[5]=e=>o.isCollapse=!o.isCollapse)},[Object(a["createElementVNode"])("span",{class:Object(a["normalizeClass"])(["burger",{active:!o.isCollapse}])},null,2)]),Object(a["createElementVNode"])("button",v,[C,Object(a["createElementVNode"])("small",$,Object(a["toDisplayString"])(o.user),1)]),Object(a["createElementVNode"])("div",L,[S,Object(a["createElementVNode"])("small",I,Object(a["toDisplayString"])(o.user),1)]),Object(a["createElementVNode"])("ul",B,[D,Object(a["createElementVNode"])("li",null,[Object(a["createElementVNode"])("a",{href:"#",class:"small dropdown-item",onClick:t[6]||(t[6]=Object(a["withModifiers"])((...e)=>V.logout&&V.logout(...e),["prevent"]))},[M,Object(a["createTextVNode"])(" 登出 ")])])])]),Object(a["createElementVNode"])("div",P,[o.isLogin?(Object(a["openBlock"])(),Object(a["createBlock"])(z,{key:0,user:o.user},null,8,["user"])):Object(a["createCommentVNode"])("",!0)])])])])])],64)}c("14d9");var z=c("7168"),J={name:"Dashboard",data(){return{user:"",isLoading:!1,isLogin:!1,isCollapse:!0}},methods:{async checkLogin(){this.isLoading=!0;try{const e="https://vue3-course-api.hexschool.io/api/user/check",t=await Object(z["$post"])(e),{success:c}=t.data;c?(this.isLogin=!0,this.$httpMsgState(t.data,"登入")):(this.$httpMsgState(t.data,"登入"),this.$router.push("/login")),this.isLoading=!1}catch(e){this.$swal.fire({icon:"error",title:e})}},logout(){document.cookie="token=; expires=; path=/",sessionStorage.removeItem("userId"),this.$router.push("/")}},async created(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)token\s*=\s*([^;]*).*$)|^.*$/,"$1");this.user=sessionStorage.getItem("userId")?sessionStorage.getItem("userId"):"User",this.axios.defaults.headers.common.Authorization=e,e?await this.checkLogin():this.$router.push("/login")}},T=(c("811d"),c("d959")),A=c.n(T);const F=A()(J,[["render",_]]);t["default"]=F}}]);
//# sourceMappingURL=chunk-25ccfcf2.7c5be62f.js.map