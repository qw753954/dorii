{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?9d62","webpack:///./src/components/backend/DelModal.vue","webpack:///./src/components/backend/DelModal.vue?4e33","webpack:///./src/views/backend/Orders.vue","webpack:///./src/components/backend/OrderModal.vue","webpack:///./src/components/backend/OrderModal.vue?d494","webpack:///./src/views/backend/Orders.vue?cd5c"],"names":["class","_createElementVNode","aria-hidden","_hoisted_2","_hoisted_5","_createElementBlock","_hoisted_1","_normalizeClass","$props","pagination","has_pre","href","aria-label","onClick","_cache","_withModifiers","$event","_ctx","$emit","current_page","_Fragment","_renderList","total_pages","item","key","_hoisted_4","has_next","data","props","Object","emits","page","console","warn","__exports__","render","tabindex","aria-labelledby","ref","id","type","data-bs-dismiss","_hoisted_3","topic","_hoisted_6","_toDisplayString","tempData","title","isAll","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","args","$options","delData","modal","mixins","modalMixins","String","Boolean","emit-get","methods","this","hideModal","url","res","$delete","success","$httpMsgState","err","$swal","fire","icon","width","colspan","_hoisted_26","_hoisted_29","_createVNode","_component_Loading","active","$data","isLoading","z-index","loader","disabled","orders","length","openModal","order","_hoisted_13","_hoisted_14","user","name","_component_router_link","to","_hoisted_15","products","product","_hoisted_16","qty","total","_hoisted_17","$toCurrency","Math","floor","_hoisted_18","payment_method","is_paid","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_createBlock","_component_Pagination","onEmitPage","getOrders","_component_OrderModal","temp-order","tempOrder","onEmitChange","triggerLoading","onEmitGet","_component_DelModal","is-all","temp-data","data-bs-toggle","data-bs-target","aria-expanded","aria-controls","data-bs-parent","style","for","_hoisted_42","value","_hoisted_57","_hoisted_58","_hoisted_59","isEditing","productInfo","option","specItem","spec","price","min","readonly","onChange","validate","unit","customerInfo","_hoisted_25","_hoisted_27","_hoisted_30","email","_hoisted_32","_hoisted_33","tel","_hoisted_35","_hoisted_36","address","_hoisted_38","_hoisted_39","message","_hoisted_40","_hoisted_41","detailInfo","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","$toLocalDate","create_at","_hoisted_51","_hoisted_52","_hoisted_53","paid_date","_hoisted_54","_hoisted_55","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","trigger","Date","now","$put","index","watch","computed","objEntries","entries","discount","forEach","coupon","percent","inheritAttrs","components","OrderModal","DelModal","Pagination","$get","JSON","parse","stringify","$refs","orderModal","delModal"],"mappings":"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","file":"js/chunk-0afebe55.3fdcc2ef.js","sourcesContent":["<template>\n  <ul class=\"pagination pagination-sm list-unstyled justify-content-center mt-3\">\n    <li class=\"page-item\" :class=\"{ 'disabled': !pagination.has_pre }\">\n      <a\n        class=\"page-link\" href=\"#\" aria-label=\"Previous\"\n        @click.prevent=\"$emit('emit-page', pagination.current_page - 1)\"\n      >\n        <span aria-hidden=\"true\">&laquo;</span>\n      </a>\n    </li>\n    <li\n      class=\"page-item\"\n      v-for=\"item in pagination.total_pages\"\n      :key=\"`pagination_${item}`\"\n      :class=\"{ 'active': pagination.current_page === item }\"\n    >\n      <a\n        href=\"#\"\n        class=\"page-link\"\n        @click.prevent=\"$emit('emit-page', item)\"\n      >\n        {{ item }}\n      </a>\n    </li>\n    <li class=\"page-item\" :class=\"{ 'disabled': !pagination.has_next }\">\n      <a\n        class=\"page-link\" href=\"#\" aria-label=\"Next\"\n        @click.prevent=\"$emit('emit-page', pagination.current_page + 1)\"\n      >\n        <span aria-hidden=\"true\">&raquo;</span>\n      </a>\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {};\n  },\n  props: {\n    pagination: Object,\n  },\n  emits: {\n    'emit-page': (page) => {\n      if (typeof page !== 'number') {\n        console.warn('emit-page 事件的參數型別需為 number');\n      }\n      return typeof page === 'number';\n    },\n  },\n};\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=3b0e6a04\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/ksyobo_/vue-dorii/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header bg-danger\">\n          <h5 class=\"modal-title text-white\" id=\"exampleModalLabel\">\n            刪除\n          </h5>\n          <button type=\"button\"\n            class=\"btn-close btn-close-white\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          >\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          確定要刪除\n          <template v-if=\"topic === 'product'\">\n            <span class=\"fw-bold text-danger\">{{ tempData.title }}</span> 商品嗎？\n          </template>\n          <template v-else-if=\"isAll\">\n            <span class=\"fw-bold text-danger\">所有訂單</span> ？\n          </template>\n          <template v-else-if=\"topic === 'order'\">\n            <span class=\"fw-bold text-danger\">編號 {{ tempData.id }}</span> 訂單？\n          </template>\n          <template v-else-if=\"topic === 'article'\">\n            <span class=\"fw-bold text-danger\">{{ tempData.title }}</span> 文章嗎？\n          </template>\n          <template v-else>\n            <span class=\"fw-bold text-danger\">{{ tempData.title }}</span> 優惠券嗎？\n          </template>\n          刪除後無法恢復！\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-gray btn-sm\"\n            data-bs-dismiss=\"modal\"\n          >\n            關閉\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-danger btn-sm\"\n            @click=\"delData\"\n          >\n            確定\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixins from '@/mixins/modalMixins';\n\nimport { $delete } from '@/assets/javascript/fetchAPI';\n\nexport default {\n  data() {\n    return {\n      modal: null,\n    };\n  },\n  mixins: [modalMixins],\n  props: {\n    tempData: Object,\n    topic: String,\n    isAll: Boolean,\n  },\n  emits: {\n    'emit-change': (item) => {\n      if (typeof item !== 'boolean') {\n        console.warn('emit-change 事件的參數型別需為 boolean');\n      }\n      return typeof item !== 'boolean';\n    },\n    'emit-get': () => true,\n  },\n  methods: {\n    // 刪除商品、文章、優惠券、全部及單一訂單\n    async delData() {\n      // 讓頁面先顯示 loading & 關閉 Modal\n      this.$emit('emit-change', true);\n      this.hideModal();\n\n      try {\n        const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/admin/${this.isAll ? 'orders/all' : `${this.topic}/${this.tempData.id}`}`;\n        const res = await $delete(url);\n        const { success } = res.data;\n        if (success) this.$emit('emit-get');\n        this.$httpMsgState(res.data, '刪除');\n      } catch (err) {\n        this.$swal.fire({ icon: 'error', title: err });\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./DelModal.vue?vue&type=template&id=2ccb2b99\"\nimport script from \"./DelModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/ksyobo_/vue-dorii/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <Loading :active=\"isLoading\" :z-index=\"1061\" loader=\"bars\"/>\n  <div class=\"row\">\n    <div class=\"col-md-11 mx-auto\">\n      <div class=\"d-flex justify-content-between align-items-center mb-4\">\n        <h2 class=\"fs-4 mb-0\">訂單管理</h2>\n        <button\n          type=\"button\" class=\"btn btn-gray\"\n          :disabled=\"orders.length === 0\"\n          @click=\"openModal('delete', orders, true)\"\n        >\n          刪除所有訂單\n        </button>\n      </div>\n      <div class=\"card rounded-4 shadow\">\n        <div class=\"card-body\">\n          <div class=\"table-responsive\">\n            <table class=\"table table-borderless\">\n              <thead>\n                <tr class=\"bg-white sticky-top\">\n                  <th width=\"250\">購買商品</th>\n                  <th width=\"120\">應付金額</th>\n                  <th width=\"120\">付款方式</th>\n                  <th width=\"120\">狀態</th>\n                  <th width=\"150\"></th>\n                </tr>\n              </thead>\n              <tbody>\n                <template v-for=\"order in orders\" :key=\"order.id\">\n                  <tr>\n                    <td class=\"pt-5\" colspan=\"5\">\n                      <div class=\"d-flex justify-content-between bg-light rounded-2 border p-2\">\n                        <p class=\"mb-0\">\n                          <i class=\"fas fa-user-circle\"></i> {{ order.user.name }}\n                        </p>\n                        <router-link :to=\"`/checkout/${order.id}`\" class=\"text-body\">\n                          <small>訂單編號 <span>{{ order.id }}</span></small>\n                        </router-link>\n                      </div>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td class=\"ps-3\">\n                      <p\n                      class=\"d-flex justify-content-between mb-2 pe-4\"\n                      v-for=\"(item, key) in order.products\"\n                      :key=\"key\"\n                      >\n                        {{ item.product.title }}\n                        <span class=\"text-primary\">x{{ item.qty }}</span>\n                      </p>\n                    </td>\n                    <td v-if=\"order.total > 1000\">\n                      ${{ $toCurrency(Math.floor(order.total)) }}\n                    </td>\n                    <td v-else>\n                      ${{ $toCurrency(Math.floor(order.total + 120)) }}\n                    </td>\n                    <td>{{ order.user.payment_method }}</td>\n                    <td class=\"text-secondary\" v-if=\"order.is_paid\">\n                      <i class=\"fas fa-check-circle\"></i> 已付款\n                    </td>\n                    <td class=\"text-muted\" v-else>\n                      <i class=\"fas fa-times-circle\"></i> 未付款\n                    </td>\n                    <td class=\"text-end pe-3\">\n                      <div class=\"btn-group\">\n                        <button\n                          type=\"button\"\n                          class=\"operate-btn btn btn-outline-secondary btn-sm\"\n                          @click=\"openModal('detail', order)\"\n                        >\n                          <i class=\"fas fa-eye fa-fw\"></i>\n                        </button>\n                        <button\n                          type=\"button\"\n                          class=\"operate-btn btn btn-outline-danger btn-sm\"\n                          @click=\"openModal('delete', order, false)\"\n                        >\n                          <i class=\"fas fa-trash-alt fa-fw\"></i>\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                </template>\n              </tbody>\n            </table>\n          </div>\n\n          <Pagination\n            :pagination=\"pagination\"\n            @emit-page=\"getOrders\"\n            v-if=\"pagination.total_pages > 1\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <OrderModal\n    ref=\"orderModal\"\n    :temp-order=\"tempOrder\"\n    @emit-change=\"triggerLoading\"\n    @emit-get=\"getOrders\"\n  />\n\n  <DelModal\n    ref=\"delModal\"\n    topic=\"order\"\n    :is-all=\"isAll\"\n    :temp-data=\"tempOrder\"\n    @emit-change=\"triggerLoading\"\n    @emit-get=\"getOrders\"\n  />\n\n</template>\n\n<script>\nimport OrderModal from '@/components/backend/OrderModal.vue';\nimport DelModal from '@/components/backend/DelModal.vue';\nimport Pagination from '@/components/Pagination.vue';\n\nimport { $get } from '@/assets/javascript/fetchAPI';\n\nexport default {\n  name: 'Orders Management',\n  inheritAttrs: false,\n  data() {\n    return {\n      orders: [],\n      tempOrder: {},\n      pagination: {},\n      isAll: false,\n      isLoading: true,\n    };\n  },\n  components: {\n    OrderModal,\n    DelModal,\n    Pagination,\n  },\n  methods: {\n    async getOrders(page = 1) {\n      try {\n        const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`;\n        const res = await $get(url);\n        const { success, orders, pagination } = res.data;\n        if (success) {\n          this.orders = orders;\n          this.pagination = pagination;\n        }\n        this.triggerLoading(false);\n      } catch (err) {\n        this.$swal.fire({ icon: 'error', title: err });\n      }\n    },\n    openModal(type, item, isAll) {\n      switch (type) {\n        case 'detail':\n          this.tempOrder = JSON.parse(JSON.stringify(item));\n          this.$refs.orderModal.openModal();\n          break;\n        case 'delete':\n          this.isAll = isAll;\n          if (!isAll) {\n            this.tempOrder = { ...item };\n          }\n          this.$refs.delModal.openModal();\n          break;\n        default:\n          break;\n      }\n    },\n    triggerLoading(item) {\n      this.isLoading = item;\n    },\n  },\n  async created() {\n    await this.getOrders();\n  },\n};\n</script>\n","<template>\n  <div class=\"modal fade\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-dialog-scrollable modal-lg\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header bg-primary\">\n          <h5 class=\"modal-title text-white\" id=\"exampleModalLabel\">\n            訂單明細\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close btn-close-white\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          >\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"accordion mb-5\" id=\"accordionFlushExample\">\n            <div class=\"accordion-item\">\n              <h2 class=\"accordion-header\" id=\"flush-headingOne\">\n                <button\n                  type=\"button\"\n                  class=\"accordion-button fw-bold collapsed\"\n                  data-bs-toggle=\"collapse\" data-bs-target=\"#flush-collapseOne\"\n                  aria-expanded=\"false\" aria-controls=\"flush-collapseOne\"\n                >\n                  <i class=\"fas fa-align-left pe-3\"></i> 選購商品\n                </button>\n              </h2>\n              <div\n                id=\"flush-collapseOne\" class=\"accordion-collapse collapse\"\n                aria-labelledby=\"flush-headingOne\" data-bs-parent=\"#accordionFlushExample\"\n              >\n                <div class=\"accordion-body\">\n                  <div class=\"d-flex justify-content-end mb-2\">\n                    <button\n                      type=\"button\"\n                      class=\"small link-gray\"\n                      :class=\"{ 'text-secondary': isEditing.productInfo}\"\n                      @click=\"isEditing.productInfo = !isEditing.productInfo\"\n                    >\n                      <i class=\"fas fa-edit me-1\"></i>\n                      <template v-if=\"isEditing.productInfo\">完成</template>\n                      <template v-else>點我編輯</template>\n                    </button>\n                  </div>\n                  <table class=\"table align-middle\">\n                    <tbody>\n                      <template v-for=\"(item, key) in order.products\" :key=\"key\">\n                        <tr v-for=\"specItem in item.option\" :key=\"specItem.spec\">\n                          <td style=\"width: 20px\">◾</td>\n                          <td>{{ item.product.title }}\n                            <span class=\"small badge bg-secondary ms-1\" v-if=\"specItem.spec\">\n                              {{ specItem.spec }}\n                            </span>\n                          </td>\n                          <td style=\"width: 120px\" class=\"text-end\">\n                            ${{ $toCurrency(item.product.price) }}\n                          </td>\n                          <td style=\"width: 120px\" class=\"text-end\">\n                            <div class=\"d-flex align-items-center\">\n                              <input\n                                type=\"number\"\n                                class=\"py-1\"\n                                :class=\"{\n                                  'form-control-plaintext text-end': !isEditing.productInfo,\n                                  'form-control me-1': isEditing.productInfo,\n                                }\"\n                                min=\"1\"\n                                :readonly=\"!isEditing.productInfo\"\n                                v-model=\"specItem.qty\"\n                                @change=\"validate(item.qty, key)\"\n                              >\n                              {{ item.product.unit }}\n                            </div>\n                          </td>\n                        </tr>\n                      </template>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"row gx-0 justify-content-between\">\n            <!-- 買家資料 -->\n            <div class=\"col-lg-5 mb-3 mb-lg-0\">\n              <h3 class=\"fs-6 text-center rounded-pill bg-light py-2 px-3 mb-3\">\n                買家資料\n                <button\n                  type=\"button\"\n                  class=\"small link-gray\"\n                  :class=\"{ 'text-secondary': isEditing.customerInfo}\"\n                  @click=\"isEditing.customerInfo = !isEditing.customerInfo\"\n                >\n                  <i class=\"fas fa-edit\"></i>\n                </button>\n              </h3>\n              <table class=\"table align-middle\">\n                <tbody>\n                  <tr>\n                    <th><label for=\"name\">姓名</label></th>\n                    <td width=\"70%\">\n                      <input\n                        type=\"text\"\n                        id=\"name\"\n                        class=\"py-1\"\n                        :class=\"{ 'form-control-plaintext': !isEditing.customerInfo,\n                                  'form-control': isEditing.customerInfo }\"\n                        v-model=\"order.user.name\"\n                        :readonly=\"!isEditing.customerInfo\"\n                      >\n                    </td>\n                  </tr>\n                  <tr>\n                    <th><label for=\"email\">E-mail</label></th>\n                    <td width=\"70%\">\n                      <input\n                        type=\"email\"\n                        id=\"email\"\n                        class=\"py-1\"\n                        :class=\"{ 'form-control-plaintext': !isEditing.customerInfo,\n                                  'form-control': isEditing.customerInfo }\"\n                        v-model=\"order.user.email\"\n                        :readonly=\"!isEditing.customerInfo\"\n                      >\n                    </td>\n                  </tr>\n                  <tr>\n                    <th><label for=\"email\">手機</label></th>\n                    <td width=\"70%\">\n                      <input\n                        type=\"tel\"\n                        id=\"tel\"\n                        class=\"py-1\"\n                        :class=\"{ 'form-control-plaintext': !isEditing.customerInfo,\n                                  'form-control': isEditing.customerInfo }\"\n                        v-model=\"order.user.tel\"\n                        :readonly=\"!isEditing.customerInfo\"\n                      >\n                    </td>\n                  </tr>\n                  <tr>\n                    <th><label for=\"address\">地址</label></th>\n                    <td width=\"70%\">\n                      <input\n                        type=\"text\"\n                        id=\"address\"\n                        class=\"py-1\"\n                        :class=\"{ 'form-control-plaintext': !isEditing.customerInfo,\n                                  'form-control': isEditing.customerInfo }\"\n                        v-model=\"order.user.address\"\n                        :readonly=\"!isEditing.customerInfo\"\n                      >\n                    </td>\n                  </tr>\n                  <tr>\n                    <th class=\"border-bottom-0 py-3\">備註</th>\n                    <td width=\"70%\" class=\"border-bottom-0 py-3\">\n                      {{ order.message }}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n\n            <!-- 訂單細節 -->\n            <div class=\"col-lg-6\">\n              <h3 class=\"fs-6 text-center rounded-pill bg-light py-2 px-3 mb-3\">\n                詳細資料\n                <button\n                  type=\"button\"\n                  class=\"small link-gray\"\n                  :class=\"{ 'text-secondary': isEditing.detailInfo}\"\n                  @click=\"isEditing.detailInfo = !isEditing.detailInfo\"\n                >\n                  <i class=\"fas fa-edit\"></i>\n                </button>\n              </h3>\n              <table class=\"table align-middle\">\n                <tbody>\n                  <tr>\n                    <th>訂單編號</th>\n                    <td width=\"70%\">\n                      <span class=\"d-block user-select-all py-1\">\n                        {{ order.id }}\n                      </span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>下單日期</th>\n                    <td width=\"70%\">\n                      <span class=\"d-block py-1\">\n                        {{ $toLocalDate(order.create_at) }}\n                      </span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>付款時間</th>\n                    <td width=\"70%\">\n                      <span class=\"d-block py-1\">\n                        {{ order.paid_date ? $toLocalDate(order.paid_date) : '-' }}\n                      </span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>付款方式</th>\n                    <td width=\"70%\">\n                      <select\n                        id=\"payment\"\n                        class=\"py-1\"\n                        :class=\"{ 'form-control-plaintext': !isEditing.detailInfo,\n                                  'form-select': isEditing.detailInfo }\"\n                        :disabled=\"!isEditing.detailInfo\"\n                        v-model=\"order.user.payment_method\"\n                      >\n                        <option value=\"信用卡\">信用卡</option>\n                        <option value=\"ATM 轉帳\">ATM 轉帳</option>\n                        <option value=\"Apple pay\">Apple pay</option>\n                      </select>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>付款狀態</th>\n                    <td>\n                      <div class=\"form-check py-1\" :class=\"{ 'ps-0': !isEditing.detailInfo }\">\n                        <input\n                          class=\"form-check-input\"\n                          type=\"checkbox\"\n                          id=\"isPaid\"\n                          value=\"\"\n                          v-model=\"order.is_paid\"\n                          v-if=\"isEditing.detailInfo\"\n                        >\n                        <label\n                          for=\"isPaid\"\n                          class=\"form-check-label align-middle fw-bold\"\n                          :class=\"{ 'text-secondary': order.is_paid, 'text-muted': !order.is_paid }\"\n                        >\n                          {{ order.is_paid ? '已付款' : '未付款' }}\n                        </label>\n                      </div>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th class=\"border-bottom-0\">總金額</th>\n                    <td class=\"border-bottom-0\" v-if=\"order.products\">\n                      <span class=\"d-block py-1\" v-if=\"total > 1000\">\n                        ${{ $toCurrency(total) }}\n                      </span>\n                      <span class=\"d-block py-1\" v-else>\n                        ${{ $toCurrency(total + 120) }}（含運）\n                      </span>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-gray btn-sm\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n\n          <button\n            type=\"button\"\n            class=\"btn btn-primary btn-sm\"\n            @click=\"trigger\"\n          >\n            確認修改\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixins from '@/mixins/modalMixins';\n\nimport { $put } from '@/assets/javascript/fetchAPI';\n\nexport default {\n  data() {\n    return {\n      modal: '',\n      order: {\n        user: {},\n      },\n      isEditing: {\n        productInfo: false,\n        customerInfo: false,\n        detailInfo: false,\n      },\n    };\n  },\n  mixins: [modalMixins],\n  props: {\n    tempOrder: Object,\n  },\n  emits: {\n    'emit-change': (item) => {\n      if (typeof item !== 'boolean') {\n        console.warn('emit-change 事件的參數型別需為 boolean');\n      }\n      return typeof item === 'boolean';\n    },\n    'emit-get': () => true,\n  },\n  methods: {\n    async trigger() {\n      this.$emit('emit-change', true);\n      this.order.paid_date = this.order.is_paid ? Math.floor(Date.now() / 1000) : '';\n\n      try {\n        const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/admin/order/${this.order.id}`;\n        const res = await $put(url, { data: this.order });\n        const { success } = res.data;\n        if (success) {\n          this.$emit('emit-get');\n          this.hideModal();\n        }\n        this.$httpMsgState(res.data, '更新');\n      } catch (err) {\n        this.$swal.fire({ icon: 'error', title: err });\n      }\n    },\n    validate(qty, index) {\n      if (!qty || qty < 1) {\n        const data = {\n          success: false,\n          message: '修改數目不能小於 1',\n        };\n        this.$httpMsgState(data, '修改');\n        this.order.products[index].qty = 1;\n      }\n    },\n  },\n  watch: {\n    tempOrder() {\n      this.order = { ...this.tempOrder };\n      this.isEditing = {\n        productInfo: false,\n        customerInfo: false,\n        detailInfo: false,\n      };\n    },\n  },\n  computed: {\n    total() {\n      // 目的：編輯訂單中的產品數量，也會同步更新總金額（若沒自行計算則總金額會維持由後端回傳的原金額）\n\n      // 1. 整理出 order.products 第一層屬性的陣列，存進 objEntries\n      // 結構為：[['訂單商品1 ID', {訂單商品1 資料}], ['訂單商品2 ID', {訂單商品2 資料}] ... ]\n      const objEntries = Object.entries(this.order.products);\n\n      // 2. 撈出 objEntries 每筆資料中 第二個索引的商品數量，並與單價相乘後並加總\n      let total = 0;\n      let discount = 100;\n      objEntries.forEach((item) => {\n        if (item[1].coupon) {\n          discount = item[1].coupon.percent;\n        }\n        item[1].option.forEach((spec) => {\n          total += item[1].product.price * spec.qty;\n        });\n      });\n\n      total *= discount / 100; // 打折\n      return Math.floor(total);\n    },\n  },\n};\n</script>\n","import { render } from \"./OrderModal.vue?vue&type=template&id=723f3e47\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/ksyobo_/vue-dorii/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Orders.vue?vue&type=template&id=4a87f7f6\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/ksyobo_/vue-dorii/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}